<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<title>CDI SDK: src/common/src/fifo.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="image_left.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CDI SDK
   </div>
   <div id="projectbrief">SDK for transporting chunks of data reliably and with low latency using a polled mode network driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_fdedb0aba14d44ce9d99bc100e026e6a.html">common</a></li><li class="navelem"><a class="el" href="dir_93d6226967e8e187d15fc6a8b74b4a3e.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">fifo.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file contains definitions and implementation for a simple FIFO.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fifo__api_8h_source.html">fifo_api.h</a>&quot;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;<a class="el" href="configuration_8h_source.html">configuration.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__os__api_8h_source.html">cdi_os_api.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCdiFifoState.html">CdiFifoState</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure used to hold state data for a single FIFO.  <a href="structCdiFifoState.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5d7024de70ac7209975dfbcf40d96e67" id="r_a5d7024de70ac7209975dfbcf40d96e67"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d7024de70ac7209975dfbcf40d96e67">CdiFifoCreate</a> (const char *name_str, int item_count, int item_byte_size, <a class="el" href="fifo__api_8h.html#a1e2aed4a14a74687e0fe1e8bfd8e6332">CdiFifoFullCallback</a> full_cb_ptr, <a class="el" href="cdi__core__api_8h.html#a53a771185440252cddc49554d92a9938">CdiUserCbParameter</a> full_user_cb_param, <a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a> *ret_handle_ptr)</td></tr>
<tr class="separator:a5d7024de70ac7209975dfbcf40d96e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3def38d5cfe1f75542989f95df51f365" id="r_a3def38d5cfe1f75542989f95df51f365"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3def38d5cfe1f75542989f95df51f365">CdiFifoFlush</a> (<a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a> handle)</td></tr>
<tr class="separator:a3def38d5cfe1f75542989f95df51f365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca29ac99de565b5261b546876cbda725" id="r_aca29ac99de565b5261b546876cbda725"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca29ac99de565b5261b546876cbda725">CdiFifoRead</a> (<a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a> handle, int timeout_ms, <a class="el" href="cdi__os__api_8h.html#a22200be4dcff65ba7189ecad9939c350">CdiSignalType</a> abort_wait_signal, void *item_dest_ptr)</td></tr>
<tr class="separator:aca29ac99de565b5261b546876cbda725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb711c41f51cb7bcf2c2922fc8c5266" id="r_a8eb711c41f51cb7bcf2c2922fc8c5266"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8eb711c41f51cb7bcf2c2922fc8c5266">CdiFifoWrite</a> (<a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a> handle, int timeout_ms, <a class="el" href="cdi__os__api_8h.html#a22200be4dcff65ba7189ecad9939c350">CdiSignalType</a> abort_wait_signal, const void *data_ptr)</td></tr>
<tr class="separator:a8eb711c41f51cb7bcf2c2922fc8c5266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57133243d8429e7ac5a58b31f467c2bc" id="r_a57133243d8429e7ac5a58b31f467c2bc"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57133243d8429e7ac5a58b31f467c2bc">CdiFifoGetName</a> (<a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a> handle)</td></tr>
<tr class="separator:a57133243d8429e7ac5a58b31f467c2bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06bb4e2c5de75a193483894b94ac942b" id="r_a06bb4e2c5de75a193483894b94ac942b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06bb4e2c5de75a193483894b94ac942b">CdiFifoDestroy</a> (<a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a> handle)</td></tr>
<tr class="separator:a06bb4e2c5de75a193483894b94ac942b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains definitions and implementation for a simple FIFO. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a5d7024de70ac7209975dfbcf40d96e67" name="a5d7024de70ac7209975dfbcf40d96e67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d7024de70ac7209975dfbcf40d96e67">&#9670;&#160;</a></span>CdiFifoCreate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CdiFifoCreate </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name_str</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>item_count</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>item_byte_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fifo__api_8h.html#a1e2aed4a14a74687e0fe1e8bfd8e6332">CdiFifoFullCallback</a></td>          <td class="paramname"><span class="paramname"><em>full_cb_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cdi__core__api_8h.html#a53a771185440252cddc49554d92a9938">CdiUserCbParameter</a></td>          <td class="paramname"><span class="paramname"><em>full_user_cb_param</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a> *</td>          <td class="paramname"><span class="paramname"><em>ret_handle_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name_str</td><td>Pointer to name of FIFO to copy to the new FIFO instance. </td></tr>
    <tr><td class="paramname">item_count</td><td>Number of items in the FIFO (FIFO depth). </td></tr>
    <tr><td class="paramname">item_byte_size</td><td>Size of each item in bytes. </td></tr>
    <tr><td class="paramname">full_cb_ptr</td><td>Address of callback function invoked when the FIFO is full and <a class="el" href="fifo__api_8h.html#a4b8dccb3297b1f6546ca9911cfb25994">CdiFifoWrite()</a> is used. Specify NULL if not used. </td></tr>
    <tr><td class="paramname">full_user_cb_param</td><td>User defined parameter used in structure passed to full_cb_ptr. </td></tr>
    <tr><td class="paramname">ret_handle_ptr</td><td>Pointer to returned handle of the new FIFO.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, otherwise false (not enough memory to allocate the FIFO). </dd></dl>

</div>
</div>
<a id="a06bb4e2c5de75a193483894b94ac942b" name="a06bb4e2c5de75a193483894b94ac942b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06bb4e2c5de75a193483894b94ac942b">&#9670;&#160;</a></span>CdiFifoDestroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CdiFifoDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a></td>          <td class="paramname"><span class="paramname"><em>handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>FIFO handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3def38d5cfe1f75542989f95df51f365" name="a3def38d5cfe1f75542989f95df51f365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3def38d5cfe1f75542989f95df51f365">&#9670;&#160;</a></span>CdiFifoFlush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CdiFifoFlush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a></td>          <td class="paramname"><span class="paramname"><em>handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flush all entries from the FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>FIFO handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a57133243d8429e7ac5a58b31f467c2bc" name="a57133243d8429e7ac5a58b31f467c2bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57133243d8429e7ac5a58b31f467c2bc">&#9670;&#160;</a></span>CdiFifoGetName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * CdiFifoGetName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a></td>          <td class="paramname"><span class="paramname"><em>handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get name of FIFO that was defined when FIFO was created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>FIFO handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aca29ac99de565b5261b546876cbda725" name="aca29ac99de565b5261b546876cbda725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca29ac99de565b5261b546876cbda725">&#9670;&#160;</a></span>CdiFifoRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CdiFifoRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a></td>          <td class="paramname"><span class="paramname"><em>handle</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cdi__os__api_8h.html#a22200be4dcff65ba7189ecad9939c350">CdiSignalType</a></td>          <td class="paramname"><span class="paramname"><em>abort_wait_signal</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>item_dest_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read an item from the FIFO buffer and copy to item_dest_ptr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>FIFO handle. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>If FIFO is empty, this is the number of milliseconds to wait for data before returning. </td></tr>
    <tr><td class="paramname">abort_wait_signal</td><td>Optional signal used to abort the read if the FIFO is empty. Use NULL to specific no signal. </td></tr>
    <tr><td class="paramname">item_dest_ptr</td><td>Pointer to buffer where to copy the item to. Size of buffer must be large enough to hold the data. Data size was set when the FIFO was created (see item_byte_size).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, otherwise false (FIFO is empty). </dd></dl>

</div>
</div>
<a id="a8eb711c41f51cb7bcf2c2922fc8c5266" name="a8eb711c41f51cb7bcf2c2922fc8c5266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eb711c41f51cb7bcf2c2922fc8c5266">&#9670;&#160;</a></span>CdiFifoWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CdiFifoWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fifo__api_8h.html#a8f86f8b1746653312867a88dfeec357a">CdiFifoHandle</a></td>          <td class="paramname"><span class="paramname"><em>handle</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cdi__os__api_8h.html#a22200be4dcff65ba7189ecad9939c350">CdiSignalType</a></td>          <td class="paramname"><span class="paramname"><em>abort_wait_signal</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>item_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write an item to the FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>FIFO handle. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>If FIFO is full, this is the number of milliseconds to wait for an open entry before returning. </td></tr>
    <tr><td class="paramname">abort_wait_signal</td><td>Optional signal used to abort the write if the FIFO is full. Use NULL to specific no signal. </td></tr>
    <tr><td class="paramname">item_ptr</td><td>Pointer where to copy the item from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, otherwise false (FIFO is full). </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
	<div>Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.</div>
</small></address>
</body>
</html>
