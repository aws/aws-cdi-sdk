<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<title>CDI SDK: src/cdi/payload.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="image_left.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CDI SDK
   </div>
   <div id="projectbrief">SDK for transporting chunks of data reliably and with low latency using a polled mode network driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_440858bc2ff41f5ef15b020e90223871.html">cdi</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">payload.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The declarations in this header file correspond to the definitions in <a class="el" href="payload_8c.html" title="This file contains internal definitions and implementation used for payloads.">payload.c</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="private__avm_8h_source.html">private_avm.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__core__api_8h_source.html">cdi_core_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__pool__api_8h_source.html">cdi_pool_api.h</a>&quot;</code><br />
</div>
<p><a href="payload_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCdiPayloadPacketState.html">CdiPayloadPacketState</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure used to hold state data for a single payload.  <a href="structCdiPayloadPacketState.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a06d161c2e2c9f4dddcf1634657b3e0b3" id="r_a06d161c2e2c9f4dddcf1634657b3e0b3"><td class="memItemLeft" align="right" valign="top"><a id="a06d161c2e2c9f4dddcf1634657b3e0b3" name="a06d161c2e2c9f4dddcf1634657b3e0b3"></a>
typedef struct <a class="el" href="structCdiPacketizerState.html">CdiPacketizerState</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>CdiPacketizerStateHandle</b></td></tr>
<tr class="memdesc:a06d161c2e2c9f4dddcf1634657b3e0b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">An opaque type for the packetizer to keep track of its progress in case it must be suspended for lack of resources. <br /></td></tr>
<tr class="separator:a06d161c2e2c9f4dddcf1634657b3e0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37211329c69de49454fff77dd9c54db1" id="r_a37211329c69de49454fff77dd9c54db1"><td class="memItemLeft" align="right" valign="top"><a id="a37211329c69de49454fff77dd9c54db1" name="a37211329c69de49454fff77dd9c54db1"></a>
typedef struct CdiConnectionState&#160;</td><td class="memItemRight" valign="bottom"><b>CdiConnectionState</b></td></tr>
<tr class="memdesc:a37211329c69de49454fff77dd9c54db1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward reference of structure to create pointers later. <br /></td></tr>
<tr class="separator:a37211329c69de49454fff77dd9c54db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b726dbfdf7d61bf07a8cac967064f6e" id="r_a8b726dbfdf7d61bf07a8cac967064f6e"><td class="memItemLeft" align="right" valign="top">typedef struct TxPayloadState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b726dbfdf7d61bf07a8cac967064f6e">TxPayloadState</a></td></tr>
<tr class="memdesc:a8b726dbfdf7d61bf07a8cac967064f6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward reference of structure to create pointers later.  <br /></td></tr>
<tr class="separator:a8b726dbfdf7d61bf07a8cac967064f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6ea8a1d12e717f14be9b6e7628d4e56" id="r_ac6ea8a1d12e717f14be9b6e7628d4e56"><td class="memItemLeft" align="right" valign="top"><a id="ac6ea8a1d12e717f14be9b6e7628d4e56" name="ac6ea8a1d12e717f14be9b6e7628d4e56"></a>
typedef struct CdiRawPacketHeader&#160;</td><td class="memItemRight" valign="bottom"><b>CdiRawPacketHeader</b></td></tr>
<tr class="memdesc:ac6ea8a1d12e717f14be9b6e7628d4e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward reference of structure to create pointers later. <br /></td></tr>
<tr class="separator:ac6ea8a1d12e717f14be9b6e7628d4e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d451d9a5955b4272e420bc4ec50b30f" id="r_a3d451d9a5955b4272e420bc4ec50b30f"><td class="memItemLeft" align="right" valign="top"><a id="a3d451d9a5955b4272e420bc4ec50b30f" name="a3d451d9a5955b4272e420bc4ec50b30f"></a>
typedef struct CdiRawExtraPacketHeader&#160;</td><td class="memItemRight" valign="bottom"><b>CdiRawExtraPacketHeader</b></td></tr>
<tr class="memdesc:a3d451d9a5955b4272e420bc4ec50b30f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward reference of structure to create pointers later. <br /></td></tr>
<tr class="separator:a3d451d9a5955b4272e420bc4ec50b30f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8165b3deca9130dcb7145a848f12b954" id="r_a8165b3deca9130dcb7145a848f12b954"><td class="memItemLeft" align="right" valign="top"><a id="a8165b3deca9130dcb7145a848f12b954" name="a8165b3deca9130dcb7145a848f12b954"></a>
typedef struct CdiProtocol&#160;</td><td class="memItemRight" valign="bottom"><b>CdiProtocol</b></td></tr>
<tr class="memdesc:a8165b3deca9130dcb7145a848f12b954"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward reference of structure to create pointers later. <br /></td></tr>
<tr class="separator:a8165b3deca9130dcb7145a848f12b954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57182d381a4d1be37bfa792b77553e91" id="r_a57182d381a4d1be37bfa792b77553e91"><td class="memItemLeft" align="right" valign="top"><a id="a57182d381a4d1be37bfa792b77553e91" name="a57182d381a4d1be37bfa792b77553e91"></a>
typedef struct <a class="el" href="structCdiProtocol.html">CdiProtocol</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>CdiProtocolHandle</b></td></tr>
<tr class="memdesc:a57182d381a4d1be37bfa792b77553e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward reference of structure to create pointers later. <br /></td></tr>
<tr class="separator:a57182d381a4d1be37bfa792b77553e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a928796979fa2fa431549777ec6b22ef8" id="r_a928796979fa2fa431549777ec6b22ef8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a928796979fa2fa431549777ec6b22ef8">CdiPayloadType</a> { <a class="el" href="#a928796979fa2fa431549777ec6b22ef8a6edb9a9a4f3d28fafdaaef6e890defd1">kPayloadTypeData</a> = 0
, <a class="el" href="#a928796979fa2fa431549777ec6b22ef8add422946f35f31065ddee1c1620e1bc9">kPayloadTypeDataOffset</a>
, <a class="el" href="#a928796979fa2fa431549777ec6b22ef8a9af03318b498d0fea87ac9cbb9de28e1">kPayloadTypeProbe</a>
, <a class="el" href="#a928796979fa2fa431549777ec6b22ef8aac46a4ea87f6c393b22db917313226a2">kPayloadTypeKeepAlive</a>
 }</td></tr>
<tr class="memdesc:a928796979fa2fa431549777ec6b22ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration used to identify packet type.  <a href="#a928796979fa2fa431549777ec6b22ef8">More...</a><br /></td></tr>
<tr class="separator:a928796979fa2fa431549777ec6b22ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93ece93c7875292444466572ca19b05a" id="r_a93ece93c7875292444466572ca19b05a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93ece93c7875292444466572ca19b05a">PayloadInit</a> (<a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *con_state_ptr, const <a class="el" href="structCdiSgList.html">CdiSgList</a> *source_sgl_ptr, <a class="el" href="structTxPayloadState.html">TxPayloadState</a> *payload_state_ptr)</td></tr>
<tr class="separator:a93ece93c7875292444466572ca19b05a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc72c22d57fe54fba818abc396058e1" id="r_abdc72c22d57fe54fba818abc396058e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a06d161c2e2c9f4dddcf1634657b3e0b3">CdiPacketizerStateHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdc72c22d57fe54fba818abc396058e1">PayloadPacketizerCreate</a> (void)</td></tr>
<tr class="separator:abdc72c22d57fe54fba818abc396058e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1baf5c6c4b43b03375cc76f903a5651f" id="r_a1baf5c6c4b43b03375cc76f903a5651f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1baf5c6c4b43b03375cc76f903a5651f">PayloadPacketizerDestroy</a> (<a class="el" href="#a06d161c2e2c9f4dddcf1634657b3e0b3">CdiPacketizerStateHandle</a> packetizer_state_handle)</td></tr>
<tr class="separator:a1baf5c6c4b43b03375cc76f903a5651f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460b5cef20029828bf68f0b271350881" id="r_a460b5cef20029828bf68f0b271350881"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a460b5cef20029828bf68f0b271350881">PayloadPacketizerStateInit</a> (<a class="el" href="#a06d161c2e2c9f4dddcf1634657b3e0b3">CdiPacketizerStateHandle</a> packetizer_state_handle)</td></tr>
<tr class="separator:a460b5cef20029828bf68f0b271350881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57ebc3caacb72f661589d6f444deb12" id="r_ac57ebc3caacb72f661589d6f444deb12"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac57ebc3caacb72f661589d6f444deb12">PayloadPacketizerPacketGet</a> (<a class="el" href="#a57182d381a4d1be37bfa792b77553e91">CdiProtocolHandle</a> protocol_handle, <a class="el" href="#a06d161c2e2c9f4dddcf1634657b3e0b3">CdiPacketizerStateHandle</a> packetizer_state_handle, char *header_ptr, int header_buffer_size, <a class="el" href="cdi__pool__api_8h.html#a8e5912d6ac4676dac0adfb54cada3e03">CdiPoolHandle</a> packet_sgl_entry_pool_handle, <a class="el" href="structTxPayloadState.html">TxPayloadState</a> *payload_state_ptr, <a class="el" href="structCdiSgList.html">CdiSgList</a> *packet_sgl_ptr, bool *ret_is_last_packet_ptr)</td></tr>
<tr class="separator:ac57ebc3caacb72f661589d6f444deb12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The declarations in this header file correspond to the definitions in <a class="el" href="payload_8c.html" title="This file contains internal definitions and implementation used for payloads.">payload.c</a>. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a8b726dbfdf7d61bf07a8cac967064f6e" name="a8b726dbfdf7d61bf07a8cac967064f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b726dbfdf7d61bf07a8cac967064f6e">&#9670;&#160;</a></span>TxPayloadState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct TxPayloadState TxPayloadState</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forward reference of structure to create pointers later. </p>
<p>Forward reference of structure to allow pointer creation. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a928796979fa2fa431549777ec6b22ef8" name="a928796979fa2fa431549777ec6b22ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a928796979fa2fa431549777ec6b22ef8">&#9670;&#160;</a></span>CdiPayloadType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a928796979fa2fa431549777ec6b22ef8">CdiPayloadType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration used to identify packet type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a928796979fa2fa431549777ec6b22ef8a6edb9a9a4f3d28fafdaaef6e890defd1" name="a928796979fa2fa431549777ec6b22ef8a6edb9a9a4f3d28fafdaaef6e890defd1"></a>kPayloadTypeData&#160;</td><td class="fielddoc"><p>Payload contains application payload data. </p>
</td></tr>
<tr><td class="fieldname"><a id="a928796979fa2fa431549777ec6b22ef8add422946f35f31065ddee1c1620e1bc9" name="a928796979fa2fa431549777ec6b22ef8add422946f35f31065ddee1c1620e1bc9"></a>kPayloadTypeDataOffset&#160;</td><td class="fielddoc"><p>Payload contains application payload data with data offset field in each packet. </p>
</td></tr>
<tr><td class="fieldname"><a id="a928796979fa2fa431549777ec6b22ef8a9af03318b498d0fea87ac9cbb9de28e1" name="a928796979fa2fa431549777ec6b22ef8a9af03318b498d0fea87ac9cbb9de28e1"></a>kPayloadTypeProbe&#160;</td><td class="fielddoc"><p>Payload contains probe data. </p>
</td></tr>
<tr><td class="fieldname"><a id="a928796979fa2fa431549777ec6b22ef8aac46a4ea87f6c393b22db917313226a2" name="a928796979fa2fa431549777ec6b22ef8aac46a4ea87f6c393b22db917313226a2"></a>kPayloadTypeKeepAlive&#160;</td><td class="fielddoc"><p>Payload is being used for keeping the connection alive (don't use app payload callbacks). </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a93ece93c7875292444466572ca19b05a" name="a93ece93c7875292444466572ca19b05a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ece93c7875292444466572ca19b05a">&#9670;&#160;</a></span>PayloadInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PayloadInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiConnectionState.html">CdiConnectionState</a> *</td>          <td class="paramname"><span class="paramname"><em>con_state_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCdiSgList.html">CdiSgList</a> *</td>          <td class="paramname"><span class="paramname"><em>source_sgl_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTxPayloadState.html">TxPayloadState</a> *</td>          <td class="paramname"><span class="paramname"><em>payload_state_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize an <a class="el" href="structCdiPayloadPacketState.html" title="Structure used to hold state data for a single payload.">CdiPayloadPacketState</a> structure before using CdiPayloadPacketizerPacketGet() to split the payload into packets. NOTE: If an error occurs, caller is responsible for freeing the pool buffers that it allocates.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con_state_ptr</td><td>Pointer to connection state data. </td></tr>
    <tr><td class="paramname">source_sgl_ptr</td><td>Pointer to Tx Payload source SGL list. </td></tr>
    <tr><td class="paramname">payload_state_ptr</td><td>Pointer to payload state data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, otherwise an error occurred. </dd></dl>

</div>
</div>
<a id="abdc72c22d57fe54fba818abc396058e1" name="abdc72c22d57fe54fba818abc396058e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc72c22d57fe54fba818abc396058e1">&#9670;&#160;</a></span>PayloadPacketizerCreate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a06d161c2e2c9f4dddcf1634657b3e0b3">CdiPacketizerStateHandle</a> PayloadPacketizerCreate </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a packetizer state object. This must be destroyed with CdiPayloadPacketizerDestroy() when the connection is closed.</p>
<dl class="section return"><dt>Returns</dt><dd>Handle for the created packetizer state or NULL if the creation failed. </dd></dl>

</div>
</div>
<a id="a1baf5c6c4b43b03375cc76f903a5651f" name="a1baf5c6c4b43b03375cc76f903a5651f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1baf5c6c4b43b03375cc76f903a5651f">&#9670;&#160;</a></span>PayloadPacketizerDestroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PayloadPacketizerDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a06d161c2e2c9f4dddcf1634657b3e0b3">CdiPacketizerStateHandle</a></td>          <td class="paramname"><span class="paramname"><em>packetizer_state_handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the memory previously allocated for a packetizer state object through CdiPayloadPacketizerCreate().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packetizer_state_handle</td><td>The handle of the packetizer state to be destroyed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac57ebc3caacb72f661589d6f444deb12" name="ac57ebc3caacb72f661589d6f444deb12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac57ebc3caacb72f661589d6f444deb12">&#9670;&#160;</a></span>PayloadPacketizerPacketGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PayloadPacketizerPacketGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a57182d381a4d1be37bfa792b77553e91">CdiProtocolHandle</a></td>          <td class="paramname"><span class="paramname"><em>protocol_handle</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a06d161c2e2c9f4dddcf1634657b3e0b3">CdiPacketizerStateHandle</a></td>          <td class="paramname"><span class="paramname"><em>packetizer_state_handle</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>header_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>header_buffer_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cdi__pool__api_8h.html#a8e5912d6ac4676dac0adfb54cada3e03">CdiPoolHandle</a></td>          <td class="paramname"><span class="paramname"><em>packet_sgl_entry_pool_handle</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTxPayloadState.html">TxPayloadState</a> *</td>          <td class="paramname"><span class="paramname"><em>payload_state_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiSgList.html">CdiSgList</a> *</td>          <td class="paramname"><span class="paramname"><em>packet_sgl_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>ret_is_last_packet_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the next packet for a payload. Must use CdiPayloadPacketizerStateInit() for a new payload before using this function. If false is returned, one of the pools from which required resources are taken is dry so this function should be called again until it returns true.</p>
<p>NOTE: All the pools used in this function are not thread-safe, so must ensure that only one thread is accessing them at a time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">protocol_handle</td><td>Handle of protocol to use. </td></tr>
    <tr><td class="paramname">packetizer_state_handle</td><td>Handle of the packetizer state for this connection. </td></tr>
    <tr><td class="paramname">header_ptr</td><td>Pointer to the header data structure to be filled in for the new packet. </td></tr>
    <tr><td class="paramname">header_buffer_size</td><td>Size of header data buffer in bytes. </td></tr>
    <tr><td class="paramname">packet_sgl_entry_pool_handle</td><td>CDI packet SGL list entry pool. </td></tr>
    <tr><td class="paramname">payload_state_ptr</td><td>Pointer to payload state data. </td></tr>
    <tr><td class="paramname">packet_sgl_ptr</td><td>Pointer to returned packet SGL list </td></tr>
    <tr><td class="paramname">ret_is_last_packet_ptr</td><td>Pointer to returned last packet state. True if last packet, otherwise false.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if packet returned, otherwise a pool was empty so false is returned. </dd></dl>

</div>
</div>
<a id="a460b5cef20029828bf68f0b271350881" name="a460b5cef20029828bf68f0b271350881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a460b5cef20029828bf68f0b271350881">&#9670;&#160;</a></span>PayloadPacketizerStateInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PayloadPacketizerStateInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a06d161c2e2c9f4dddcf1634657b3e0b3">CdiPacketizerStateHandle</a></td>          <td class="paramname"><span class="paramname"><em>packetizer_state_handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a packetizer state object. This function should be called before calling CdiPayloadPacketizerPacketGet() the first time for a given payload.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packetizer_state_handle</td><td>Handle of packetizer object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
	<div>Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.</div>
</small></address>
</body>
</html>
