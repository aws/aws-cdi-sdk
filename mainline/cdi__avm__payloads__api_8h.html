<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<title>CDI SDK: include/cdi_avm_payloads_api.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="image_left.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CDI SDK
   </div>
   <div id="projectbrief">SDK for transporting chunks of data reliably and with low latency using a polled mode network driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cdi_avm_payloads_api.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file declares the public API data types, structures and functions that facilitate parsing and synthesizing payloads that conform to CDI's baseline configuration.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cdi__core__api_8h_source.html">cdi_core_api.h</a>&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="cdi__avm__payloads__api_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCdiAvmAncillaryDataPacket.html">CdiAvmAncillaryDataPacket</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An ancillary data packet. See <a href="https://datatracker.ietf.org/doc/html/rfc8331#section-2.1">https://datatracker.ietf.org/doc/html/rfc8331#section-2.1</a> for details.  <a href="structCdiAvmAncillaryDataPacket.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abc4985a7b7341bed6ddba43ab73753a1" id="r_abc4985a7b7341bed6ddba43ab73753a1"><td class="memItemLeft" align="right" valign="top"><a id="abc4985a7b7341bed6ddba43ab73753a1" name="abc4985a7b7341bed6ddba43ab73753a1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CDI_MAX_ANC_USER_DATA_WORDS</b>&#160;&#160;&#160;(255)</td></tr>
<tr class="memdesc:abc4985a7b7341bed6ddba43ab73753a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of user data words per ancillary data packet (SMPTE ST 291-1 Section 6.6). <br /></td></tr>
<tr class="separator:abc4985a7b7341bed6ddba43ab73753a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aae1d1f01c2b665619fe938debd97b92a" id="r_aae1d1f01c2b665619fe938debd97b92a"><td class="memItemLeft" align="right" valign="top">typedef const <a class="el" href="structCdiAvmAncillaryDataPacket.html">CdiAvmAncillaryDataPacket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae1d1f01c2b665619fe938debd97b92a">CdiAvmPacketizeAncCallback</a>(void *context_ptr)</td></tr>
<tr class="memdesc:aae1d1f01c2b665619fe938debd97b92a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prototype of callback function used by CdiAvmPacketizeAncillaryData.  <br /></td></tr>
<tr class="separator:aae1d1f01c2b665619fe938debd97b92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f43ef501de76d4a2fc926ede3cd4490" id="r_a4f43ef501de76d4a2fc926ede3cd4490"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f43ef501de76d4a2fc926ede3cd4490">CdiAvmUnpacketizeAncCallback</a>(void *context_ptr, <a class="el" href="#add4ad41e6a5c8521ba83849b09d78afd">CdiFieldKind</a> field_kind, const <a class="el" href="structCdiAvmAncillaryDataPacket.html">CdiAvmAncillaryDataPacket</a> *packet_ptr, bool has_parity_error, bool has_checksum_error)</td></tr>
<tr class="memdesc:a4f43ef501de76d4a2fc926ede3cd4490"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prototype of callback function used by CdiAvmUnpacketizeAncillaryData.  <br /></td></tr>
<tr class="separator:a4f43ef501de76d4a2fc926ede3cd4490"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:add4ad41e6a5c8521ba83849b09d78afd" id="r_add4ad41e6a5c8521ba83849b09d78afd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add4ad41e6a5c8521ba83849b09d78afd">CdiFieldKind</a> { <a class="el" href="#add4ad41e6a5c8521ba83849b09d78afdad99dd4156bcb1393212e180d7acbe3e5">kCdiFieldKindUnspecified</a> = 0
, <a class="el" href="#add4ad41e6a5c8521ba83849b09d78afdabae46e6af6d2a629cee8622f56f50235">kCdiFieldKindInvalid</a> = 1
, <a class="el" href="#add4ad41e6a5c8521ba83849b09d78afdad411ce85480827d98bb24d6fd0046340">kCdiFieldKindInterlacedFirst</a> = 2
, <a class="el" href="#add4ad41e6a5c8521ba83849b09d78afda93506432075a1136b4d1b1d73388ee0f">kCdiFieldKindInterlacedSecond</a> = 3
 }</td></tr>
<tr class="separator:add4ad41e6a5c8521ba83849b09d78afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7edb6ffa27c3dc91130143bc63e86e3a" id="r_a7edb6ffa27c3dc91130143bc63e86e3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__utility__api_8h.html#a59fd7f46ded9be03f112db94c8c428f9">CDI_INTERFACE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7edb6ffa27c3dc91130143bc63e86e3a">CdiAvmGetAncillaryDataPayloadSize</a> (uint16_t num_anc_packets, uint8_t data_counts[])</td></tr>
<tr class="separator:a7edb6ffa27c3dc91130143bc63e86e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eeaa518f3f1275e2c413fc342fa026a" id="r_a3eeaa518f3f1275e2c413fc342fa026a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__utility__api_8h.html#a59fd7f46ded9be03f112db94c8c428f9">CDI_INTERFACE</a> <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3eeaa518f3f1275e2c413fc342fa026a">CdiAvmPacketizeAncillaryData</a> (<a class="el" href="#aae1d1f01c2b665619fe938debd97b92a">CdiAvmPacketizeAncCallback</a> *produce_next_packet_ptr, <a class="el" href="#add4ad41e6a5c8521ba83849b09d78afd">CdiFieldKind</a> field_kind, void *context_ptr, char *buffer_ptr, int *size_in_bytes_ptr)</td></tr>
<tr class="separator:a3eeaa518f3f1275e2c413fc342fa026a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24310af623bb96d3544ce350ed6e0d64" id="r_a24310af623bb96d3544ce350ed6e0d64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__utility__api_8h.html#a59fd7f46ded9be03f112db94c8c428f9">CDI_INTERFACE</a> <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24310af623bb96d3544ce350ed6e0d64">CdiAvmUnpacketizeAncillaryData</a> (const <a class="el" href="structCdiSgList.html">CdiSgList</a> *sgl_ptr, <a class="el" href="#a4f43ef501de76d4a2fc926ede3cd4490">CdiAvmUnpacketizeAncCallback</a> *consume_next_packet_ptr, void *context_ptr)</td></tr>
<tr class="separator:a24310af623bb96d3544ce350ed6e0d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file declares the public API data types, structures and functions that facilitate parsing and synthesizing payloads that conform to CDI's baseline configuration. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="aae1d1f01c2b665619fe938debd97b92a" name="aae1d1f01c2b665619fe938debd97b92a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae1d1f01c2b665619fe938debd97b92a">&#9670;&#160;</a></span>CdiAvmPacketizeAncCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef const <a class="el" href="structCdiAvmAncillaryDataPacket.html">CdiAvmAncillaryDataPacket</a> * CdiAvmPacketizeAncCallback(void *context_ptr)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prototype of callback function used by CdiAvmPacketizeAncillaryData. </p>
<p>This callback function is invoked one or multiple times by CdiAvmPacketizeAncillaryData. For each invocation the callback returns either a pointer to the next ancillary data packet structure to be encoded according to RFC 8331, or NULL when the ancillary data payload is complete.</p>
<p>The memory referenced by the returned pointer is owned by the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context_ptr</td><td>Pointer to user-defined data to keep track of state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an <a class="el" href="structCdiAvmAncillaryDataPacket.html" title="An ancillary data packet. See https://datatracker.ietf.org/doc/html/rfc8331#section-2....">CdiAvmAncillaryDataPacket</a> or NULL. </dd></dl>

</div>
</div>
<a id="a4f43ef501de76d4a2fc926ede3cd4490" name="a4f43ef501de76d4a2fc926ede3cd4490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f43ef501de76d4a2fc926ede3cd4490">&#9670;&#160;</a></span>CdiAvmUnpacketizeAncCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void CdiAvmUnpacketizeAncCallback(void *context_ptr, <a class="el" href="#add4ad41e6a5c8521ba83849b09d78afd">CdiFieldKind</a> field_kind, const <a class="el" href="structCdiAvmAncillaryDataPacket.html">CdiAvmAncillaryDataPacket</a> *packet_ptr, bool has_parity_error, bool has_checksum_error)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prototype of callback function used by CdiAvmUnpacketizeAncillaryData. </p>
<p>This callback function is invoked one or multiple times by CdiAvmUnpacketizeAncillaryData. For each invocation the callback receives either a pointer to the next decoded ancillary data packet, or NULL when the ancillary data payload is complete.</p>
<p>The field_kind value is read from the ancillary data payload header and is the same for every callback invocation of the payload. Parameters parity_error and checksum_error indicate whether a parity error or checksum error was detected during decoding of the ancillary data packet.</p>
<p>The memory referenced by packet_ptr is owned by the SDK.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context_ptr</td><td>Pointer to user-defined data to keep track of state. </td></tr>
    <tr><td class="paramname">field_kind</td><td>Field kind value from the ancillary data payload header. </td></tr>
    <tr><td class="paramname">packet_ptr</td><td>Pointer to the decoded ancillary data packet. </td></tr>
    <tr><td class="paramname">has_parity_error</td><td>True when a header parity bit was wrong (did, sdid, and data_count have parity bits). </td></tr>
    <tr><td class="paramname">has_checksum_error</td><td>True when the packet's checksum was wrong. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="add4ad41e6a5c8521ba83849b09d78afd" name="add4ad41e6a5c8521ba83849b09d78afd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4ad41e6a5c8521ba83849b09d78afd">&#9670;&#160;</a></span>CdiFieldKind</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#add4ad41e6a5c8521ba83849b09d78afd">CdiFieldKind</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specifies what video field the timestamp in the ancillary data payload refers to. See also header field "F" in <a href="https://datatracker.ietf.org/doc/html/rfc8331#section-2.1">https://datatracker.ietf.org/doc/html/rfc8331#section-2.1</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="add4ad41e6a5c8521ba83849b09d78afdad99dd4156bcb1393212e180d7acbe3e5" name="add4ad41e6a5c8521ba83849b09d78afdad99dd4156bcb1393212e180d7acbe3e5"></a>kCdiFieldKindUnspecified&#160;</td><td class="fielddoc"><p>Indicates that no associated video field has been specified. Use with progressive scan mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="add4ad41e6a5c8521ba83849b09d78afdabae46e6af6d2a629cee8622f56f50235" name="add4ad41e6a5c8521ba83849b09d78afdabae46e6af6d2a629cee8622f56f50235"></a>kCdiFieldKindInvalid&#160;</td><td class="fielddoc"><p>Not a valid choice, receivers should ignore the payload. </p>
</td></tr>
<tr><td class="fieldname"><a id="add4ad41e6a5c8521ba83849b09d78afdad411ce85480827d98bb24d6fd0046340" name="add4ad41e6a5c8521ba83849b09d78afdad411ce85480827d98bb24d6fd0046340"></a>kCdiFieldKindInterlacedFirst&#160;</td><td class="fielddoc"><p>Indicates that the payload timestamp refers to the first field of an interlaced video signal. </p>
</td></tr>
<tr><td class="fieldname"><a id="add4ad41e6a5c8521ba83849b09d78afda93506432075a1136b4d1b1d73388ee0f" name="add4ad41e6a5c8521ba83849b09d78afda93506432075a1136b4d1b1d73388ee0f"></a>kCdiFieldKindInterlacedSecond&#160;</td><td class="fielddoc"><p>Indicates that the payload timestamp refers to the second field of an interlaced video signal. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7edb6ffa27c3dc91130143bc63e86e3a" name="a7edb6ffa27c3dc91130143bc63e86e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edb6ffa27c3dc91130143bc63e86e3a">&#9670;&#160;</a></span>CdiAvmGetAncillaryDataPayloadSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__utility__api_8h.html#a59fd7f46ded9be03f112db94c8c428f9">CDI_INTERFACE</a> int CdiAvmGetAncillaryDataPayloadSize </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>num_anc_packets</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>data_counts</em>[]</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the buffer size needed to write an ancillary data payload.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_anc_packets</td><td>The number of ancillary data packets. </td></tr>
    <tr><td class="paramname">data_counts</td><td>Number of user data words for each prospective ancillary data packet (see <a class="el" href="structCdiAvmAncillaryDataPacket.html" title="An ancillary data packet. See https://datatracker.ietf.org/doc/html/rfc8331#section-2....">CdiAvmAncillaryDataPacket</a>).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Required buffer size in bytes. </dd></dl>

</div>
</div>
<a id="a3eeaa518f3f1275e2c413fc342fa026a" name="a3eeaa518f3f1275e2c413fc342fa026a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eeaa518f3f1275e2c413fc342fa026a">&#9670;&#160;</a></span>CdiAvmPacketizeAncillaryData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__utility__api_8h.html#a59fd7f46ded9be03f112db94c8c428f9">CDI_INTERFACE</a> <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> CdiAvmPacketizeAncillaryData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aae1d1f01c2b665619fe938debd97b92a">CdiAvmPacketizeAncCallback</a> *</td>          <td class="paramname"><span class="paramname"><em>produce_next_packet_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#add4ad41e6a5c8521ba83849b09d78afd">CdiFieldKind</a></td>          <td class="paramname"><span class="paramname"><em>field_kind</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>context_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buffer_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>size_in_bytes_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate an ancillary data payload in the provided buffer. For each ancillary data packet the application's callback returns a pointer to an <a class="el" href="structCdiAvmAncillaryDataPacket.html" title="An ancillary data packet. See https://datatracker.ietf.org/doc/html/rfc8331#section-2....">CdiAvmAncillaryDataPacket</a> object; it returns NULL when the payload is complete. The packets produced by the callback are encoded in order. The whole payload is prefixed with a two-word header. See <a href="https://cdi.elemental.com/specs/baseline-ancillary-data">https://cdi.elemental.com/specs/baseline-ancillary-data</a> for the payload format.</p>
<p>The provided buffer must be large enough to hold the encoded data. When the number of user data words of all ancillary data packets in the payload is known in advance, CdiAvmGetAncillaryDataPayloadSize may be used to compute the required buffer size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">produce_next_packet_ptr</td><td>Callback provided by the application, producing next ancillary data packet to encode. </td></tr>
    <tr><td class="paramname">field_kind</td><td>Field kind of this payload. See CdiFieldKind. </td></tr>
    <tr><td class="paramname">context_ptr</td><td>Pointer to user-defined data to keep track of state. </td></tr>
    <tr><td class="paramname">buffer_ptr</td><td>Pointer to payload buffer. </td></tr>
    <tr><td class="paramname">size_in_bytes_ptr</td><td>Points to size in bytes of payload buffer. Points to size of payload on successful return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code indicating success or failure. </dd></dl>

</div>
</div>
<a id="a24310af623bb96d3544ce350ed6e0d64" name="a24310af623bb96d3544ce350ed6e0d64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24310af623bb96d3544ce350ed6e0d64">&#9670;&#160;</a></span>CdiAvmUnpacketizeAncillaryData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__utility__api_8h.html#a59fd7f46ded9be03f112db94c8c428f9">CDI_INTERFACE</a> <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> CdiAvmUnpacketizeAncillaryData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiSgList.html">CdiSgList</a> *</td>          <td class="paramname"><span class="paramname"><em>sgl_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a4f43ef501de76d4a2fc926ede3cd4490">CdiAvmUnpacketizeAncCallback</a> *</td>          <td class="paramname"><span class="paramname"><em>consume_next_packet_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>context_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decode an ancillary data payload from the provided buffer and pass decoded ancillary data packets to the provided callback function for processing. If the payload cannot be decoded then kCdiInvalidPayload is returned. A return code of kCdiStatusRxPayloadError indicates that the payload was decoded with parity or checksum errors detected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sgl_ptr</td><td>Pointer to payload buffer. </td></tr>
    <tr><td class="paramname">consume_next_packet_ptr</td><td>Callback provided by the application, consuming next decoded ancillary data packet. </td></tr>
    <tr><td class="paramname">context_ptr</td><td>Pointer to user-defined data to keep track of state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code indicating success or failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
	<div>Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.</div>
</small></address>
</body>
</html>
