<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<title>CDI SDK: src/test/test_control.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="image_left.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CDI SDK
   </div>
   <div id="projectbrief">SDK for transporting chunks of data reliably and with low latency using a polled mode network driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_120ed4da3e3217b1e7fc0b4f48568e79.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">test_control.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file contains common cdi_test definitions and functions used by both receiver connections and transmitter connections.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="test__control_8h_source.html">test_control.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="cdi__logger__api_8h_source.html">cdi_logger_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__avm__payloads__api_8h_source.html">cdi_avm_payloads_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__test_8h_source.html">cdi_test.h</a>&quot;</code><br />
<code>#include &quot;curses.h&quot;</code><br />
<code>#include &quot;<a class="el" href="riff_8h_source.html">riff.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="run__test_8h_source.html">run_test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="test__console_8h_source.html">test_console.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utilities__api_8h_source.html">utilities_api.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4818423f3e502e9f0b7586e752b78aba" id="r_a4818423f3e502e9f0b7586e752b78aba"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4818423f3e502e9f0b7586e752b78aba">TestPayloadPatternSet</a> (uint64_t seed_value, <a class="el" href="test__args_8h.html#a6d5439e78f2da5598c3e67d60a164d4e">TestPatternType</a> pattern_type, int payload_word_size, void *pattern_buffer_ptr)</td></tr>
<tr class="separator:a4818423f3e502e9f0b7586e752b78aba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb1323d5acd80c3ff86c07a9ca32465" id="r_a0fb1323d5acd80c3ff86c07a9ca32465"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fb1323d5acd80c3ff86c07a9ca32465">TestWaitForConnection</a> (<a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, int timeout_seconds)</td></tr>
<tr class="separator:a0fb1323d5acd80c3ff86c07a9ca32465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee993a056aea83121ee0c34f74a146da" id="r_aee993a056aea83121ee0c34f74a146da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee993a056aea83121ee0c34f74a146da">TestConnectionCallback</a> (const <a class="el" href="structCdiCoreConnectionCbData.html">CdiCoreConnectionCbData</a> *cb_data_ptr)</td></tr>
<tr class="separator:aee993a056aea83121ee0c34f74a146da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe9ec43ccde403898320a234915f83ab" id="r_abe9ec43ccde403898320a234915f83ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe9ec43ccde403898320a234915f83ab">TestStatisticsCallback</a> (const <a class="el" href="structCdiCoreStatsCbData.html">CdiCoreStatsCbData</a> *cb_data_ptr)</td></tr>
<tr class="separator:abe9ec43ccde403898320a234915f83ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3dc9e53cd41c717ac9b626b0f6def8" id="r_a7f3dc9e53cd41c717ac9b626b0f6def8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f3dc9e53cd41c717ac9b626b0f6def8">TestIncPayloadCount</a> (<a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, int stream_index)</td></tr>
<tr class="separator:a7f3dc9e53cd41c717ac9b626b0f6def8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f768adea350ed4b4245b7661272206" id="r_ad9f768adea350ed4b4245b7661272206"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9f768adea350ed4b4245b7661272206">PreparePayloadData</a> (<a class="el" href="structStreamSettings.html">StreamSettings</a> *stream_settings_ptr, int payload_buffer_size, <a class="el" href="cdi__os__api_8h.html#a66d356ccbabe4d7e4a83db098dce96ab">CdiFileID</a> *read_file_handle_ptr, void *buffer_ptr)</td></tr>
<tr class="separator:ad9f768adea350ed4b4245b7661272206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5524e95c89a7a60385fa66c2c09606f2" id="r_a5524e95c89a7a60385fa66c2c09606f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5524e95c89a7a60385fa66c2c09606f2">GetNextPayloadDataSgl</a> (const <a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, const <a class="el" href="structStreamSettings.html">StreamSettings</a> *stream_settings_ptr, int payload_id, <a class="el" href="cdi__os__api_8h.html#a66d356ccbabe4d7e4a83db098dce96ab">CdiFileID</a> read_file_handle, <a class="el" href="structCdiSgList.html">CdiSgList</a> *sgl_ptr)</td></tr>
<tr class="separator:a5524e95c89a7a60385fa66c2c09606f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9404fac0eda1824e21a08b0428e21f85" id="r_a9404fac0eda1824e21a08b0428e21f85"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9404fac0eda1824e21a08b0428e21f85">GetNextPayloadDataLinear</a> (const <a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, const <a class="el" href="structStreamSettings.html">StreamSettings</a> *stream_settings_ptr, <a class="el" href="structTestConnectionStreamInfo.html">TestConnectionStreamInfo</a> *stream_info_ptr)</td></tr>
<tr class="separator:a9404fac0eda1824e21a08b0428e21f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac137365a6e79b289d8a274f48e26cf95" id="r_ac137365a6e79b289d8a274f48e26cf95"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac137365a6e79b289d8a274f48e26cf95">TestCreateConnectionLogFiles</a> (<a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, <a class="el" href="structCdiLogMethodData.html">CdiLogMethodData</a> *log_method_data_ptr, char *sdk_log_filename_buffer_str)</td></tr>
<tr class="separator:ac137365a6e79b289d8a274f48e26cf95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac3439d7d3e9497b2f0796d5d489353" id="r_abac3439d7d3e9497b2f0796d5d489353"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abac3439d7d3e9497b2f0796d5d489353">IsPayloadNumLessThanTotal</a> (int current_payload_num, int total_payloads)</td></tr>
<tr class="separator:abac3439d7d3e9497b2f0796d5d489353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa3517d3f0249b5e98b80364ff9c4ba0" id="r_aaa3517d3f0249b5e98b80364ff9c4ba0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa3517d3f0249b5e98b80364ff9c4ba0">GetVideoPtpTimestamp</a> (const <a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, const <a class="el" href="structTestConnectionStreamInfo.html">TestConnectionStreamInfo</a> *stream_info_ptr, int ptp_rate_count)</td></tr>
<tr class="memdesc:aaa3517d3f0249b5e98b80364ff9c4ba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next video PTP timestamp to use in the payload origination_ptp_timestamp.  <br /></td></tr>
<tr class="separator:aaa3517d3f0249b5e98b80364ff9c4ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5738fa8f2cc1c2b0ea8277a25b85b4b" id="r_ab5738fa8f2cc1c2b0ea8277a25b85b4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5738fa8f2cc1c2b0ea8277a25b85b4b">GetAudioPtpTimestamp</a> (const <a class="el" href="structStreamSettings.html">StreamSettings</a> *stream_settings_ptr, <a class="el" href="structTestConnectionStreamInfo.html">TestConnectionStreamInfo</a> *stream_info_ptr, int audio_data_size)</td></tr>
<tr class="memdesc:ab5738fa8f2cc1c2b0ea8277a25b85b4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next audio PTP timestamp to use in the payload origination_ptp_timestamp.  <br /></td></tr>
<tr class="separator:ab5738fa8f2cc1c2b0ea8277a25b85b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ac58786afea0ad65d33b657975dcb0" id="r_ae8ac58786afea0ad65d33b657975dcb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8ac58786afea0ad65d33b657975dcb0">LogTimestamps</a> (const <a class="el" href="structStreamSettings.html">StreamSettings</a> *stream_settings_ptr, <a class="el" href="structTestConnectionStreamInfo.html">TestConnectionStreamInfo</a> *stream_info_ptr, <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> current_ptp_timestamp)</td></tr>
<tr class="memdesc:ae8ac58786afea0ad65d33b657975dcb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log timestamp, if enabled.  <br /></td></tr>
<tr class="separator:ae8ac58786afea0ad65d33b657975dcb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains common cdi_test definitions and functions used by both receiver connections and transmitter connections. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab5738fa8f2cc1c2b0ea8277a25b85b4b" name="ab5738fa8f2cc1c2b0ea8277a25b85b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5738fa8f2cc1c2b0ea8277a25b85b4b">&#9670;&#160;</a></span>GetAudioPtpTimestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> GetAudioPtpTimestamp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structStreamSettings.html">StreamSettings</a> *</td>          <td class="paramname"><span class="paramname"><em>stream_settings_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTestConnectionStreamInfo.html">TestConnectionStreamInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>stream_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>audio_data_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next audio PTP timestamp to use in the payload origination_ptp_timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_settings_ptr</td><td>Pointer to stream settings info. </td></tr>
    <tr><td class="paramname">stream_info_ptr</td><td>Pointer to stream info. </td></tr>
    <tr><td class="paramname">audio_data_size</td><td>Size of audio data in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A PTP timestamp for the next payload to send. </dd></dl>

</div>
</div>
<a id="a9404fac0eda1824e21a08b0428e21f85" name="a9404fac0eda1824e21a08b0428e21f85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9404fac0eda1824e21a08b0428e21f85">&#9670;&#160;</a></span>GetNextPayloadDataLinear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GetNextPayloadDataLinear </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structStreamSettings.html">StreamSettings</a> *</td>          <td class="paramname"><span class="paramname"><em>stream_settings_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTestConnectionStreamInfo.html">TestConnectionStreamInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>stream_info_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare next set of payload data. This is either reading the next payload from the file or incrementing the payload identifier value when using patterns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to test connection information. </td></tr>
    <tr><td class="paramname">stream_settings_ptr</td><td>Pointer to stream settings. </td></tr>
    <tr><td class="paramname">stream_info_ptr</td><td>Pointer to stream state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if successful return true, otherwise returns false. </dd></dl>

</div>
</div>
<a id="a5524e95c89a7a60385fa66c2c09606f2" name="a5524e95c89a7a60385fa66c2c09606f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5524e95c89a7a60385fa66c2c09606f2">&#9670;&#160;</a></span>GetNextPayloadDataSgl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GetNextPayloadDataSgl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structStreamSettings.html">StreamSettings</a> *</td>          <td class="paramname"><span class="paramname"><em>stream_settings_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_id</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cdi__os__api_8h.html#a66d356ccbabe4d7e4a83db098dce96ab">CdiFileID</a></td>          <td class="paramname"><span class="paramname"><em>read_file_handle</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiSgList.html">CdiSgList</a> *</td>          <td class="paramname"><span class="paramname"><em>sgl_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare next set of payload data. This is either reading the next payload from the file or incrementing the payload identifier value when using patterns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to test connection information. </td></tr>
    <tr><td class="paramname">stream_settings_ptr</td><td>Pointer to stream settings. </td></tr>
    <tr><td class="paramname">payload_id</td><td>Payload identifier. </td></tr>
    <tr><td class="paramname">read_file_handle</td><td>The file handle for reading the next pattern from, if the pattern type is from file. </td></tr>
    <tr><td class="paramname">sgl_ptr</td><td>Pointer to an SGL describing the buffer to be filled with payload data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if successful return true, otherwise returns false. </dd></dl>

</div>
</div>
<a id="aaa3517d3f0249b5e98b80364ff9c4ba0" name="aaa3517d3f0249b5e98b80364ff9c4ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa3517d3f0249b5e98b80364ff9c4ba0">&#9670;&#160;</a></span>GetVideoPtpTimestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> GetVideoPtpTimestamp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTestConnectionStreamInfo.html">TestConnectionStreamInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>stream_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ptp_rate_count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next video PTP timestamp to use in the payload origination_ptp_timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to test connection information. </td></tr>
    <tr><td class="paramname">stream_info_ptr</td><td>Pointer to stream info. </td></tr>
    <tr><td class="paramname">ptp_rate_count</td><td>Current PTP rate counter value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A PTP timestamp for the next payload to send. </dd></dl>

</div>
</div>
<a id="abac3439d7d3e9497b2f0796d5d489353" name="abac3439d7d3e9497b2f0796d5d489353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac3439d7d3e9497b2f0796d5d489353">&#9670;&#160;</a></span>IsPayloadNumLessThanTotal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IsPayloadNumLessThanTotal </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>current_payload_num</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>total_payloads</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the current payload number is less that the total payloads allowed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_payload_num</td><td>Number that represents the current payload number. </td></tr>
    <tr><td class="paramname">total_payloads</td><td>Number that represents the total number of payloads for this connection (0 is infinite).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool Indicates if the current payload number is less than the total number of payloads. This is always true if infinite payloads. </dd></dl>

</div>
</div>
<a id="ae8ac58786afea0ad65d33b657975dcb0" name="ae8ac58786afea0ad65d33b657975dcb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ac58786afea0ad65d33b657975dcb0">&#9670;&#160;</a></span>LogTimestamps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LogTimestamps </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structStreamSettings.html">StreamSettings</a> *</td>          <td class="paramname"><span class="paramname"><em>stream_settings_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTestConnectionStreamInfo.html">TestConnectionStreamInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>stream_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a></td>          <td class="paramname"><span class="paramname"><em>current_ptp_timestamp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log timestamp, if enabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_settings_ptr</td><td>Pointer to stream settings. </td></tr>
    <tr><td class="paramname">stream_info_ptr</td><td>Pointer to stream info. </td></tr>
    <tr><td class="paramname">current_ptp_timestamp</td><td>Current PTP timestamp value to log. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9f768adea350ed4b4245b7661272206" name="ad9f768adea350ed4b4245b7661272206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9f768adea350ed4b4245b7661272206">&#9670;&#160;</a></span>PreparePayloadData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PreparePayloadData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structStreamSettings.html">StreamSettings</a> *</td>          <td class="paramname"><span class="paramname"><em>stream_settings_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_buffer_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cdi__os__api_8h.html#a66d356ccbabe4d7e4a83db098dce96ab">CdiFileID</a> *</td>          <td class="paramname"><span class="paramname"><em>read_file_handle_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>buffer_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare next set of payload data. This is either reading the next payload from the file or incrementing the payload identifier value when using patterns. This function is shared for managing both Tx and Rx buffer patterns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream_settings_ptr</td><td>Pointer to stream settings. </td></tr>
    <tr><td class="paramname">payload_buffer_size</td><td>Payload buffer size, rounded up to multiple of 8 bytes. </td></tr>
    <tr><td class="paramname">read_file_handle_ptr</td><td>Pointer to the user read data file handle which this function will set. </td></tr>
    <tr><td class="paramname">buffer_ptr</td><td>Pointer to buffer of payload size to be filled with initial pattern words if using patterns.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if successful return true, otherwise returns false. </dd></dl>

</div>
</div>
<a id="aee993a056aea83121ee0c34f74a146da" name="aee993a056aea83121ee0c34f74a146da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee993a056aea83121ee0c34f74a146da">&#9670;&#160;</a></span>TestConnectionCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestConnectionCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiCoreConnectionCbData.html">CdiCoreConnectionCbData</a> *</td>          <td class="paramname"><span class="paramname"><em>cb_data_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handle the connection callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_data_ptr</td><td>Pointer to core connection callback data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac137365a6e79b289d8a274f48e26cf95" name="ac137365a6e79b289d8a274f48e26cf95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac137365a6e79b289d8a274f48e26cf95">&#9670;&#160;</a></span>TestCreateConnectionLogFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TestCreateConnectionLogFiles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiLogMethodData.html">CdiLogMethodData</a> *</td>          <td class="paramname"><span class="paramname"><em>log_method_data_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>sdk_log_filename_buffer_str</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a unique log file name for this application's connection and associate it with the current thread. This allows use of the <a class="el" href="cdi__logger__api_8h.html#aa7245716641ae31c7f88511931fd3a08" title="Macro used to generate a formatted log line and send the message to the log associated with the calli...">CDI_LOG_THREAD()</a> macro to direct log messages to the logger.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to test connection information. </td></tr>
    <tr><td class="paramname">log_method_data_ptr</td><td>Pointer to log method data. </td></tr>
    <tr><td class="paramname">sdk_log_filename_buffer_str</td><td>Pointer to buffer for return SDK log filename.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool Returns true if successful, otherwise false is returned. </dd></dl>

</div>
</div>
<a id="a7f3dc9e53cd41c717ac9b626b0f6def8" name="a7f3dc9e53cd41c717ac9b626b0f6def8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f3dc9e53cd41c717ac9b626b0f6def8">&#9670;&#160;</a></span>TestIncPayloadCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestIncPayloadCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stream_index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increment the connection's payload counter and mark done if we hit the user-specified total_payloads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to connection info data for which we want to increment the payload count. </td></tr>
    <tr><td class="paramname">stream_index</td><td>Stream index. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4818423f3e502e9f0b7586e752b78aba" name="a4818423f3e502e9f0b7586e752b78aba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4818423f3e502e9f0b7586e752b78aba">&#9670;&#160;</a></span>TestPayloadPatternSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool TestPayloadPatternSet </td>
          <td>(</td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>seed_value</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="test__args_8h.html#a6d5439e78f2da5598c3e67d60a164d4e">TestPatternType</a></td>          <td class="paramname"><span class="paramname"><em>pattern_type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_word_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pattern_buffer_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes a buffer the size of a single payload to use when using test patterns. This buffer is used to efficiently send the payload by the test_transmitter and is used for comparing the receive data buffer in test_receiver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seed_value</td><td>The seed_value to start patterns with. </td></tr>
    <tr><td class="paramname">pattern_type</td><td>The enum (TestPatternTypes) value for the pattern type. </td></tr>
    <tr><td class="paramname">payload_word_size</td><td>Sets how many 64 bit words fit in the buffer pointed to by pattern_buffer_ptr. </td></tr>
    <tr><td class="paramname">pattern_buffer_ptr</td><td>The pointer to a buffer of payload_word_size that will be filled with payload_word_size number of words of pattern pattern_type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If successful returns true, otherwise returns false. </dd></dl>

</div>
</div>
<a id="abe9ec43ccde403898320a234915f83ab" name="abe9ec43ccde403898320a234915f83ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe9ec43ccde403898320a234915f83ab">&#9670;&#160;</a></span>TestStatisticsCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TestStatisticsCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiCoreStatsCbData.html">CdiCoreStatsCbData</a> *</td>          <td class="paramname"><span class="paramname"><em>cb_data_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handle the statistics callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_data_ptr</td><td>Pointer to statistics callback data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0fb1323d5acd80c3ff86c07a9ca32465" name="a0fb1323d5acd80c3ff86c07a9ca32465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb1323d5acd80c3ff86c07a9ca32465">&#9670;&#160;</a></span>TestWaitForConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TestWaitForConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout_seconds</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait until the connection has been established.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to connection info data for which to wait for a connection. </td></tr>
    <tr><td class="paramname">timeout_seconds</td><td>Timeout in seconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if successful, false if the timeout occurred while waiting. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
	<div>Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.</div>
</small></address>
</body>
</html>
