<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<title>CDI SDK: src/ndi_test/ndi_wrapper.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="image_left.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CDI SDK
   </div>
   <div id="projectbrief">SDK for transporting chunks of data reliably and with low latency using a polled mode network driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_47c2a44001f2673992b5b486b7b98f57.html">ndi_test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ndi_wrapper.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file contains definitions and functions for the NDI-CDI Converter application.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;<a class="el" href="cdi__baseline__profile__02__00__api_8h_source.html">cdi_baseline_profile_02_00_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="test__common_8h_source.html">test_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ndi__test_8h_source.html">ndi_test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ndi__wrapper_8h_source.html">ndi_wrapper.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a76a9e07d5e4007a32ae2992111f3bde9" id="r_a76a9e07d5e4007a32ae2992111f3bde9"><td class="memItemLeft" align="right" valign="top"><a id="a76a9e07d5e4007a32ae2992111f3bde9" name="a76a9e07d5e4007a32ae2992111f3bde9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DISABLE_REPEAT_NDI_VIDEO_FRAME</b></td></tr>
<tr class="memdesc:a76a9e07d5e4007a32ae2992111f3bde9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable this define to disable NDI video frame repeat (enabled by default for pending test/logic changes as needed). Note: When a static image is used, NDI only transmits one video frame per second. So for CDI, we should be. <br /></td></tr>
<tr class="separator:a76a9e07d5e4007a32ae2992111f3bde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5974ef1923f3cfc6e22dea3fd41dfbff" id="r_a5974ef1923f3cfc6e22dea3fd41dfbff"><td class="memItemLeft" align="right" valign="top"><a id="a5974ef1923f3cfc6e22dea3fd41dfbff" name="a5974ef1923f3cfc6e22dea3fd41dfbff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_RECV_TIMEOUT_MS</b>&#160;&#160;&#160;(1*1000)</td></tr>
<tr class="memdesc:a5974ef1923f3cfc6e22dea3fd41dfbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default timeout for RECV call. <br /></td></tr>
<tr class="separator:a5974ef1923f3cfc6e22dea3fd41dfbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a70f08500b12f57122336560f0fded" id="r_a35a70f08500b12f57122336560f0fded"><td class="memItemLeft" align="right" valign="top"><a id="a35a70f08500b12f57122336560f0fded" name="a35a70f08500b12f57122336560f0fded"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REPEAT_FRAME_TIMEOUT_FACTOR</b>&#160;&#160;&#160;(1.3)</td></tr>
<tr class="memdesc:a35a70f08500b12f57122336560f0fded"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expected frame rate multiplied by this value determines how long to wait before repeating a frame. <br /></td></tr>
<tr class="separator:a35a70f08500b12f57122336560f0fded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b198a158a86aadb483d61cac8a01a8f" id="r_a3b198a158a86aadb483d61cac8a01a8f"><td class="memItemLeft" align="right" valign="top"><a id="a3b198a158a86aadb483d61cac8a01a8f" name="a3b198a158a86aadb483d61cac8a01a8f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CDI_BYTES_PER_AUDIO_SAMPLE</b>&#160;&#160;&#160;(3)</td></tr>
<tr class="memdesc:a3b198a158a86aadb483d61cac8a01a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of bytes in CDI audio sample. CDI requests 24-bit int for audio, so needs three bytes. <br /></td></tr>
<tr class="separator:a3b198a158a86aadb483d61cac8a01a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab096b25e768354073820b3f87ccf86" id="r_a9ab096b25e768354073820b3f87ccf86"><td class="memItemLeft" align="right" valign="top"><a id="a9ab096b25e768354073820b3f87ccf86" name="a9ab096b25e768354073820b3f87ccf86"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NDI_TIMEOUT_FOR_FINDING_SOURCES_IN_MS</b>&#160;&#160;&#160;(1000)</td></tr>
<tr class="memdesc:a9ab096b25e768354073820b3f87ccf86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default sleep time in milliseconds until new sources are found on the network. Set to wait at most 1 second. <br /></td></tr>
<tr class="separator:a9ab096b25e768354073820b3f87ccf86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5bc597ea81513009b5e929933a68dbdd" id="r_a5bc597ea81513009b5e929933a68dbdd"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5bc597ea81513009b5e929933a68dbdd">CDITimestampToNdi</a> (const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *cdi_timestamp_ptr)</td></tr>
<tr class="memdesc:a5bc597ea81513009b5e929933a68dbdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a CDI timestamp to NDI.  <br /></td></tr>
<tr class="separator:a5bc597ea81513009b5e929933a68dbdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ec8a3170d60ade621d7492866c6651" id="r_a45ec8a3170d60ade621d7492866c6651"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45ec8a3170d60ade621d7492866c6651">MAX</a> (float num1, float num2)</td></tr>
<tr class="memdesc:a45ec8a3170d60ade621d7492866c6651"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find maximum between two numbers.  <br /></td></tr>
<tr class="separator:a45ec8a3170d60ade621d7492866c6651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab699d83179e6b6c2c93b5e4b291aa107" id="r_ab699d83179e6b6c2c93b5e4b291aa107"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab699d83179e6b6c2c93b5e4b291aa107">MIN</a> (float num1, float num2)</td></tr>
<tr class="memdesc:ab699d83179e6b6c2c93b5e4b291aa107"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find minimum between two numbers.  <br /></td></tr>
<tr class="separator:ab699d83179e6b6c2c93b5e4b291aa107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090b15120afdc8dc815d7969eb2c375e" id="r_a090b15120afdc8dc815d7969eb2c375e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a090b15120afdc8dc815d7969eb2c375e">NdiToCdiAudioConversion</a> (float *original_audio_ptr, int num_channels, int num_samples, int channel_stride_in_bytes, int *audio_size_byte_ret_ptr)</td></tr>
<tr class="memdesc:a090b15120afdc8dc815d7969eb2c375e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert audio from 32-bit float Little-Endian to 24-bit int Big-Endian PCM. NDI audio frame appear in stacked channels in 32-bit float Little Endian format and CDI audio frame is requested to be in interleaved channels in 24-bit int Big-Endian PCM. Function goes through each NDI channel, reads audio segment in 4 byte segments, converts segment from 32-bit float Little-Endian to 24-bit int Big-Endian PCM, and places 24-bit int segment in jumps, that match interleaved spacing with corresponding number of channels, in temporary buffer. Temporary buffer replaces original NDI audio buffer and the size of the audio in bytes is updated to its new size.  <br /></td></tr>
<tr class="separator:a090b15120afdc8dc815d7969eb2c375e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad28d437c9dc15c9645938c1155cd18cb" id="r_ad28d437c9dc15c9645938c1155cd18cb"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad28d437c9dc15c9645938c1155cd18cb">CdiToNdiAudioConversion</a> (const uint8_t *cdi_audio_ptr, int cdi_audio_size, int num_channels, int num_samples_per_channel, int ndi_channel_stride_in_bytes, float *ndi_audio_ptr, int *ndi_size_ptr)</td></tr>
<tr class="memdesc:ad28d437c9dc15c9645938c1155cd18cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert CDI audio 24-bit Big-Endian interleaved PCM to NDI 32-bit float Little Endian non-interleaved.  <br /></td></tr>
<tr class="separator:ad28d437c9dc15c9645938c1155cd18cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a342640d4f0196c7bd73833518c919841" id="r_a342640d4f0196c7bd73833518c919841"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a342640d4f0196c7bd73833518c919841">NdiToCdiVideo</a> (const <a class="el" href="structFrameData.html">FrameData</a> *frame_data_ptr, int *buffer_size_ptr, void **payload_buffer_ptr, int64_t *timestamp_ptr, <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *avm_config_ptr)</td></tr>
<tr class="memdesc:a342640d4f0196c7bd73833518c919841"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a NDI video frame to CDI.  <br /></td></tr>
<tr class="separator:a342640d4f0196c7bd73833518c919841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2aff3a456f276f8877aa565574dff2c" id="r_ad2aff3a456f276f8877aa565574dff2c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2aff3a456f276f8877aa565574dff2c">CdiToNdiVideo</a> (const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *cdi_timestamp_ptr, const <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *avm_config_ptr, int payload_size, const <a class="el" href="structCdiSgList.html">CdiSgList</a> *sgl_ptr, <a class="el" href="structFrameData.html">FrameData</a> *frame_data_ptr)</td></tr>
<tr class="memdesc:ad2aff3a456f276f8877aa565574dff2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a CDI video frame to NDI.  <br /></td></tr>
<tr class="separator:ad2aff3a456f276f8877aa565574dff2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26b506c2cadfcccebb2c2a39edb7251" id="r_aa26b506c2cadfcccebb2c2a39edb7251"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa26b506c2cadfcccebb2c2a39edb7251">NdiToCdiAudio</a> (<a class="el" href="structFrameData.html">FrameData</a> *frame_data_ptr, int *buffer_size_ptr, void **payload_buffer_ptr, int64_t *timestamp_ptr, <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *avm_config_ptr)</td></tr>
<tr class="memdesc:aa26b506c2cadfcccebb2c2a39edb7251"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a NDI audio frame to CDI.  <br /></td></tr>
<tr class="separator:aa26b506c2cadfcccebb2c2a39edb7251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7fc3af4a858f5a3b0a76473ea0aca4" id="r_a7e7fc3af4a858f5a3b0a76473ea0aca4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e7fc3af4a858f5a3b0a76473ea0aca4">CdiToNdiAudio</a> (const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *cdi_timestamp_ptr, const <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *avm_config_ptr, int payload_size, const <a class="el" href="structCdiSgList.html">CdiSgList</a> *sgl_ptr, <a class="el" href="structFrameData.html">FrameData</a> *frame_data_ptr)</td></tr>
<tr class="memdesc:a7e7fc3af4a858f5a3b0a76473ea0aca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert CDI audio to NDI audio.  <br /></td></tr>
<tr class="separator:a7e7fc3af4a858f5a3b0a76473ea0aca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aad60de25513da91a2f7bf0405e43a1" id="r_a6aad60de25513da91a2f7bf0405e43a1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6aad60de25513da91a2f7bf0405e43a1">CdiToNdiMetadata</a> (const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *cdi_timestamp_ptr, const <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *avm_config_ptr, int payload_size, const <a class="el" href="structCdiSgList.html">CdiSgList</a> *sgl_ptr, <a class="el" href="structFrameData.html">FrameData</a> *frame_data_ptr)</td></tr>
<tr class="memdesc:a6aad60de25513da91a2f7bf0405e43a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert CDI metadata to NDI metadata.  <br /></td></tr>
<tr class="separator:a6aad60de25513da91a2f7bf0405e43a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac37baec36820ec291bd0c8b6a9f575da" id="r_ac37baec36820ec291bd0c8b6a9f575da"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac37baec36820ec291bd0c8b6a9f575da">NdiToCdiMeta</a> (<a class="el" href="structFrameData.html">FrameData</a> *frame_data_ptr, int *buffer_size_ptr, void **payload_buffer_ptr, int64_t *timestamp_ptr, <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *avm_config_ptr)</td></tr>
<tr class="memdesc:ac37baec36820ec291bd0c8b6a9f575da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a NDI metadata frame to CDI.  <br /></td></tr>
<tr class="separator:ac37baec36820ec291bd0c8b6a9f575da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3705b1339b757d7062838ee48668d3c1" id="r_a3705b1339b757d7062838ee48668d3c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structNdiTime.html">NdiTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3705b1339b757d7062838ee48668d3c1">NdiTimeBreakdown</a> (int64_t ndi_timestamp)</td></tr>
<tr class="memdesc:a3705b1339b757d7062838ee48668d3c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that breaks down the NDI Timestamp, in 100ns format, into seconds, milliseconds, and nanoseconds.  <br /></td></tr>
<tr class="separator:a3705b1339b757d7062838ee48668d3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b7079075df2a37cce71849f8a84024" id="r_ad9b7079075df2a37cce71849f8a84024"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9b7079075df2a37cce71849f8a84024">NdiInitialize</a> (void)</td></tr>
<tr class="memdesc:ad9b7079075df2a37cce71849f8a84024"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function which initializes the NDI SDK.  <br /></td></tr>
<tr class="separator:ad9b7079075df2a37cce71849f8a84024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cbbe5e9c3b83fd8cc160e24bb74aca1" id="r_a8cbbe5e9c3b83fd8cc160e24bb74aca1"><td class="memItemLeft" align="right" valign="top">NDIlib_send_instance_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cbbe5e9c3b83fd8cc160e24bb74aca1">NdiCreateSender</a> (const <a class="el" href="structTestSettings.html">TestSettings</a> *test_settings_ptr)</td></tr>
<tr class="memdesc:a8cbbe5e9c3b83fd8cc160e24bb74aca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function which creates a NDI sender.  <br /></td></tr>
<tr class="separator:a8cbbe5e9c3b83fd8cc160e24bb74aca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b7df815ba3e752d4a2b043d97841c0" id="r_a35b7df815ba3e752d4a2b043d97841c0"><td class="memItemLeft" align="right" valign="top"><a id="a35b7df815ba3e752d4a2b043d97841c0" name="a35b7df815ba3e752d4a2b043d97841c0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>NdiShowSources</b> (void)</td></tr>
<tr class="memdesc:a35b7df815ba3e752d4a2b043d97841c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Show available NDI sources and exit. <br /></td></tr>
<tr class="separator:a35b7df815ba3e752d4a2b043d97841c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29311a523697cd020de46488a120d4d6" id="r_a29311a523697cd020de46488a120d4d6"><td class="memItemLeft" align="right" valign="top">NDIlib_recv_instance_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29311a523697cd020de46488a120d4d6">NdiCreateReceiver</a> (const <a class="el" href="structTestSettings.html">TestSettings</a> *test_settings_ptr)</td></tr>
<tr class="memdesc:a29311a523697cd020de46488a120d4d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function which creates a NDI finder, looks for NDI sources, creates a NDI receiver, and connects to a NDI source to receive stream information.  <br /></td></tr>
<tr class="separator:a29311a523697cd020de46488a120d4d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a9c493e2af69e6901b22604632470b" id="r_a07a9c493e2af69e6901b22604632470b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07a9c493e2af69e6901b22604632470b">NdiReleasePayload</a> (<a class="el" href="structFrameData.html">FrameData</a> *frame_data_ptr)</td></tr>
<tr class="memdesc:a07a9c493e2af69e6901b22604632470b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that releases the memory of a NDI video, audio, or metadata frame, and puts back memory pool allocation.  <br /></td></tr>
<tr class="separator:a07a9c493e2af69e6901b22604632470b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af36f8282ddd4e66026f503a7e3069670" id="r_af36f8282ddd4e66026f503a7e3069670"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af36f8282ddd4e66026f503a7e3069670">NdiConvertNdiToCdi</a> (<a class="el" href="structFrameData.html">FrameData</a> *frame_data_ptr, int *buffer_size_ptr, void **payload_buffer_ptr, int64_t *timestamp_ptr, <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *avm_config_ptr)</td></tr>
<tr class="memdesc:af36f8282ddd4e66026f503a7e3069670"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that maps information of NDI frame to an AVM structure that is compatible with CDI.  <br /></td></tr>
<tr class="separator:af36f8282ddd4e66026f503a7e3069670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a6854ad7201976fdde5f31b5803120" id="r_a09a6854ad7201976fdde5f31b5803120"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09a6854ad7201976fdde5f31b5803120">NdiConvertCdiToNdi</a> (const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *cdi_timestamp_ptr, const <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *avm_config_ptr, int payload_size, const <a class="el" href="structCdiSgList.html">CdiSgList</a> *sgl_ptr, <a class="el" href="structFrameData.html">FrameData</a> *frame_data_ptr)</td></tr>
<tr class="memdesc:a09a6854ad7201976fdde5f31b5803120"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert CDI payload to NDI frame.  <br /></td></tr>
<tr class="separator:a09a6854ad7201976fdde5f31b5803120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70ac2ff7a880bf5a058e8fe4810ce12" id="r_af70ac2ff7a880bf5a058e8fe4810ce12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__os__api_8h.html#af54546942bb91b024de5fae2a253564d">CDI_THREAD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af70ac2ff7a880bf5a058e8fe4810ce12">NdiReceivePayloadThread</a> (void *ptr)</td></tr>
<tr class="memdesc:af70ac2ff7a880bf5a058e8fe4810ce12"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that captures NDI frames that is to be written to the memory pool and put in the Payload FIFO. Function also reads from Callback FIFO to determine if NDI frame memory should be released or resent. Function uses a receding time clock element to determine if video frames are being sent consistently at the expected time. If video frame is not seen in expected time, function resends last seen video frame, else it keeps sending new video frames.  <br /></td></tr>
<tr class="separator:af70ac2ff7a880bf5a058e8fe4810ce12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0812882baa5c565de04a05963cc1cd3a" id="r_a0812882baa5c565de04a05963cc1cd3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__os__api_8h.html#af54546942bb91b024de5fae2a253564d">CDI_THREAD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0812882baa5c565de04a05963cc1cd3a">NdiTransmitPayloadThread</a> (void *ptr)</td></tr>
<tr class="memdesc:a0812882baa5c565de04a05963cc1cd3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread used to transmit NDI frames.  <br /></td></tr>
<tr class="separator:a0812882baa5c565de04a05963cc1cd3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains definitions and functions for the NDI-CDI Converter application. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a5bc597ea81513009b5e929933a68dbdd" name="a5bc597ea81513009b5e929933a68dbdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc597ea81513009b5e929933a68dbdd">&#9670;&#160;</a></span>CDITimestampToNdi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int64_t CDITimestampToNdi </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *</td>          <td class="paramname"><span class="paramname"><em>cdi_timestamp_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a CDI timestamp to NDI. </p>
<dl class="section return"><dt>Returns</dt><dd>NDI timestamp value. </dd></dl>

</div>
</div>
<a id="a7e7fc3af4a858f5a3b0a76473ea0aca4" name="a7e7fc3af4a858f5a3b0a76473ea0aca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7fc3af4a858f5a3b0a76473ea0aca4">&#9670;&#160;</a></span>CdiToNdiAudio()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> CdiToNdiAudio </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *</td>          <td class="paramname"><span class="paramname"><em>cdi_timestamp_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *</td>          <td class="paramname"><span class="paramname"><em>avm_config_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCdiSgList.html">CdiSgList</a> *</td>          <td class="paramname"><span class="paramname"><em>sgl_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFrameData.html">FrameData</a> *</td>          <td class="paramname"><span class="paramname"><em>frame_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert CDI audio to NDI audio. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cdi_timestamp_ptr</td><td>Pointer to CDI timestamp. </td></tr>
    <tr><td class="paramname">avm_config_ptr</td><td>Pointer to CDI AVM configuration data. </td></tr>
    <tr><td class="paramname">payload_size</td><td>Size of CDI payload in bytes. </td></tr>
    <tr><td class="paramname">sgl_ptr</td><td>Pointer to CDI payload data in Scatter-Gather-List format. </td></tr>
    <tr><td class="paramname">frame_data_ptr</td><td>Pointer where to write NDI frame data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the CdiReturnStatus enumeration. </dd></dl>

</div>
</div>
<a id="ad28d437c9dc15c9645938c1155cd18cb" name="ad28d437c9dc15c9645938c1155cd18cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad28d437c9dc15c9645938c1155cd18cb">&#9670;&#160;</a></span>CdiToNdiAudioConversion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool CdiToNdiAudioConversion </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>cdi_audio_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cdi_audio_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_channels</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_samples_per_channel</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ndi_channel_stride_in_bytes</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>ndi_audio_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>ndi_size_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert CDI audio 24-bit Big-Endian interleaved PCM to NDI 32-bit float Little Endian non-interleaved. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cdi_audio_ptr</td><td>Pointer to CDI audio sample data. </td></tr>
    <tr><td class="paramname">cdi_audio_size</td><td>Size in bytes of CDI audio data. </td></tr>
    <tr><td class="paramname">num_channels</td><td>Number of audio channels. </td></tr>
    <tr><td class="paramname">num_samples_per_channel</td><td>Number of audio samples per channel. </td></tr>
    <tr><td class="paramname">ndi_channel_stride_in_bytes</td><td>Stride in bytes of each NDI channel. </td></tr>
    <tr><td class="paramname">ndi_audio_ptr</td><td>Pointer where to write the NDI audio data. </td></tr>
    <tr><td class="paramname">ndi_size_ptr</td><td>Size of the NDI audio data buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns status of whether function was successful or not. </dd></dl>

</div>
</div>
<a id="a6aad60de25513da91a2f7bf0405e43a1" name="a6aad60de25513da91a2f7bf0405e43a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aad60de25513da91a2f7bf0405e43a1">&#9670;&#160;</a></span>CdiToNdiMetadata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> CdiToNdiMetadata </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *</td>          <td class="paramname"><span class="paramname"><em>cdi_timestamp_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *</td>          <td class="paramname"><span class="paramname"><em>avm_config_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCdiSgList.html">CdiSgList</a> *</td>          <td class="paramname"><span class="paramname"><em>sgl_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFrameData.html">FrameData</a> *</td>          <td class="paramname"><span class="paramname"><em>frame_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert CDI metadata to NDI metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cdi_timestamp_ptr</td><td>Pointer to CDI timestamp. </td></tr>
    <tr><td class="paramname">avm_config_ptr</td><td>Pointer to CDI AVM configuration data. </td></tr>
    <tr><td class="paramname">payload_size</td><td>Size of CDI payload in bytes. </td></tr>
    <tr><td class="paramname">sgl_ptr</td><td>Pointer to CDI payload data in Scatter-Gather-List format. </td></tr>
    <tr><td class="paramname">frame_data_ptr</td><td>Pointer where to write NDI frame data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the CdiReturnStatus enumeration. </dd></dl>

</div>
</div>
<a id="ad2aff3a456f276f8877aa565574dff2c" name="ad2aff3a456f276f8877aa565574dff2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2aff3a456f276f8877aa565574dff2c">&#9670;&#160;</a></span>CdiToNdiVideo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> CdiToNdiVideo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *</td>          <td class="paramname"><span class="paramname"><em>cdi_timestamp_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *</td>          <td class="paramname"><span class="paramname"><em>avm_config_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCdiSgList.html">CdiSgList</a> *</td>          <td class="paramname"><span class="paramname"><em>sgl_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFrameData.html">FrameData</a> *</td>          <td class="paramname"><span class="paramname"><em>frame_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a CDI video frame to NDI. </p>
<dl class="section return"><dt>Returns</dt><dd>A value from the CdiReturnStatus enumeration. </dd></dl>

</div>
</div>
<a id="a45ec8a3170d60ade621d7492866c6651" name="a45ec8a3170d60ade621d7492866c6651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ec8a3170d60ade621d7492866c6651">&#9670;&#160;</a></span>MAX()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double MAX </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>num1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>num2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find maximum between two numbers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num1</td><td>Float number. </td></tr>
    <tr><td class="paramname">num2</td><td>Float number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the greater number of the two given. </dd></dl>

</div>
</div>
<a id="ab699d83179e6b6c2c93b5e4b291aa107" name="ab699d83179e6b6c2c93b5e4b291aa107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab699d83179e6b6c2c93b5e4b291aa107">&#9670;&#160;</a></span>MIN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double MIN </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>num1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>num2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find minimum between two numbers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num1</td><td>Float number. </td></tr>
    <tr><td class="paramname">num2</td><td>Float number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the lesser number of the two given. </dd></dl>

</div>
</div>
<a id="a09a6854ad7201976fdde5f31b5803120" name="a09a6854ad7201976fdde5f31b5803120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a6854ad7201976fdde5f31b5803120">&#9670;&#160;</a></span>NdiConvertCdiToNdi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> NdiConvertCdiToNdi </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiPtpTimestamp.html">CdiPtpTimestamp</a> *</td>          <td class="paramname"><span class="paramname"><em>cdi_timestamp_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *</td>          <td class="paramname"><span class="paramname"><em>avm_config_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCdiSgList.html">CdiSgList</a> *</td>          <td class="paramname"><span class="paramname"><em>sgl_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFrameData.html">FrameData</a> *</td>          <td class="paramname"><span class="paramname"><em>frame_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert CDI payload to NDI frame. </p>
<dl class="section return"><dt>Returns</dt><dd>A value from the CdiReturnStatus enumeration. </dd></dl>

</div>
</div>
<a id="af36f8282ddd4e66026f503a7e3069670" name="af36f8282ddd4e66026f503a7e3069670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af36f8282ddd4e66026f503a7e3069670">&#9670;&#160;</a></span>NdiConvertNdiToCdi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> NdiConvertNdiToCdi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFrameData.html">FrameData</a> *</td>          <td class="paramname"><span class="paramname"><em>arg_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>data_size_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>data_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *</td>          <td class="paramname"><span class="paramname"><em>timestamp_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *</td>          <td class="paramname"><span class="paramname"><em>avm_baseline_config_ptr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function that maps information of NDI frame to an AVM structure that is compatible with CDI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg_ptr</td><td>Frame Data pointer which stores NDI frame. </td></tr>
    <tr><td class="paramname">data_size_ptr</td><td>Argument passed in to CDI send containing size of data. </td></tr>
    <tr><td class="paramname">data_ptr</td><td>Argument passed in to CDI send containing data. </td></tr>
    <tr><td class="paramname">timestamp_ptr</td><td>Argument passed in to CDI send containing timestamp of data. </td></tr>
    <tr><td class="paramname">avm_baseline_config_ptr</td><td>Argument passed in to CDI send containing configuration of data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the CdiReturnStatus enumeration. </dd></dl>

</div>
</div>
<a id="a29311a523697cd020de46488a120d4d6" name="a29311a523697cd020de46488a120d4d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29311a523697cd020de46488a120d4d6">&#9670;&#160;</a></span>NdiCreateReceiver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDIlib_recv_instance_t NdiCreateReceiver </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTestSettings.html">TestSettings</a> *</td>          <td class="paramname"><span class="paramname"><em>test_settings_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function which creates a NDI finder, looks for NDI sources, creates a NDI receiver, and connects to a NDI source to receive stream information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">test_settings_ptr</td><td>Pointer to Test Settings argument to find NDI source based from the command line, if given.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a NDI receiver that is connected to a NDI source. </dd></dl>

</div>
</div>
<a id="a8cbbe5e9c3b83fd8cc160e24bb74aca1" name="a8cbbe5e9c3b83fd8cc160e24bb74aca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cbbe5e9c3b83fd8cc160e24bb74aca1">&#9670;&#160;</a></span>NdiCreateSender()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDIlib_send_instance_t NdiCreateSender </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTestSettings.html">TestSettings</a> *</td>          <td class="paramname"><span class="paramname"><em>test_settings_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function which creates a NDI sender. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">test_settings_ptr</td><td>Pointer to Test Settings argument to create NDI source based from the command line, if given.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a NDI sender. </dd></dl>

</div>
</div>
<a id="ad9b7079075df2a37cce71849f8a84024" name="ad9b7079075df2a37cce71849f8a84024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9b7079075df2a37cce71849f8a84024">&#9670;&#160;</a></span>NdiInitialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool NdiInitialize </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function which initializes the NDI SDK. </p>
<dl class="section return"><dt>Returns</dt><dd>true or false. </dd></dl>

</div>
</div>
<a id="af70ac2ff7a880bf5a058e8fe4810ce12" name="af70ac2ff7a880bf5a058e8fe4810ce12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af70ac2ff7a880bf5a058e8fe4810ce12">&#9670;&#160;</a></span>NdiReceivePayloadThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__os__api_8h.html#af54546942bb91b024de5fae2a253564d">CDI_THREAD</a> NdiReceivePayloadThread </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ndi_thread_data_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function that captures NDI frames that is to be written to the memory pool and put in the Payload FIFO. Function also reads from Callback FIFO to determine if NDI frame memory should be released or resent. Function uses a receding time clock element to determine if video frames are being sent consistently at the expected time. If video frame is not seen in expected time, function resends last seen video frame, else it keeps sending new video frames. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndi_thread_data_ptr</td><td>Contains necessary and unchanged data like Test Connections Information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0. </dd></dl>

</div>
</div>
<a id="a07a9c493e2af69e6901b22604632470b" name="a07a9c493e2af69e6901b22604632470b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07a9c493e2af69e6901b22604632470b">&#9670;&#160;</a></span>NdiReleasePayload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NdiReleasePayload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFrameData.html">FrameData</a> *</td>          <td class="paramname"><span class="paramname"><em>arg_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function that releases the memory of a NDI video, audio, or metadata frame, and puts back memory pool allocation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg_ptr</td><td>A pointer to an Frame Data structure that is to be released. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3705b1339b757d7062838ee48668d3c1" name="a3705b1339b757d7062838ee48668d3c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3705b1339b757d7062838ee48668d3c1">&#9670;&#160;</a></span>NdiTimeBreakdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structNdiTime.html">NdiTime</a> NdiTimeBreakdown </td>
          <td>(</td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>ndi_timestamp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function that breaks down the NDI Timestamp, in 100ns format, into seconds, milliseconds, and nanoseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndi_timestamp</td><td>NDI timestamp.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a structure containing breakdown of NDI timestamp in seconds, milliseconds, and nanoseconds. </dd></dl>

</div>
</div>
<a id="aa26b506c2cadfcccebb2c2a39edb7251" name="aa26b506c2cadfcccebb2c2a39edb7251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa26b506c2cadfcccebb2c2a39edb7251">&#9670;&#160;</a></span>NdiToCdiAudio()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> NdiToCdiAudio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFrameData.html">FrameData</a> *</td>          <td class="paramname"><span class="paramname"><em>frame_data_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>buffer_size_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>payload_buffer_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *</td>          <td class="paramname"><span class="paramname"><em>timestamp_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *</td>          <td class="paramname"><span class="paramname"><em>avm_config_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a NDI audio frame to CDI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame_data_ptr</td><td>Frame Data pointer which stores NDI frame. </td></tr>
    <tr><td class="paramname">buffer_size_ptr</td><td>Argument passed in to CDI send containing size of data. </td></tr>
    <tr><td class="paramname">payload_buffer_ptr</td><td>Argument passed in to CDI send containing data. </td></tr>
    <tr><td class="paramname">timestamp_ptr</td><td>Argument passed in to CDI send containing timestamp of data. </td></tr>
    <tr><td class="paramname">avm_config_ptr</td><td>Argument passed in to CDI send containing configuration of data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the CdiReturnStatus enumeration. </dd></dl>

</div>
</div>
<a id="a090b15120afdc8dc815d7969eb2c375e" name="a090b15120afdc8dc815d7969eb2c375e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090b15120afdc8dc815d7969eb2c375e">&#9670;&#160;</a></span>NdiToCdiAudioConversion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool NdiToCdiAudioConversion </td>
          <td>(</td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>original_audio_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_channels</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_samples</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>channel_stride_in_bytes</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>audio_size_byte_ret_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert audio from 32-bit float Little-Endian to 24-bit int Big-Endian PCM. NDI audio frame appear in stacked channels in 32-bit float Little Endian format and CDI audio frame is requested to be in interleaved channels in 24-bit int Big-Endian PCM. Function goes through each NDI channel, reads audio segment in 4 byte segments, converts segment from 32-bit float Little-Endian to 24-bit int Big-Endian PCM, and places 24-bit int segment in jumps, that match interleaved spacing with corresponding number of channels, in temporary buffer. Temporary buffer replaces original NDI audio buffer and the size of the audio in bytes is updated to its new size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">original_audio_ptr</td><td>32-bit float audio given from NDI audio frame. </td></tr>
    <tr><td class="paramname">num_channels</td><td>Number of audio channels given from NDI audio frame. </td></tr>
    <tr><td class="paramname">num_samples</td><td>Number of audio samples given from NDI audio frame. </td></tr>
    <tr><td class="paramname">channel_stride_in_bytes</td><td>Length of channel stride in bytes given from NDI audio frame. </td></tr>
    <tr><td class="paramname">audio_size_byte_ret_ptr</td><td>New total length of audio size in bytes for CDI.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns status of whether function was successful or not. </dd></dl>

</div>
</div>
<a id="ac37baec36820ec291bd0c8b6a9f575da" name="ac37baec36820ec291bd0c8b6a9f575da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac37baec36820ec291bd0c8b6a9f575da">&#9670;&#160;</a></span>NdiToCdiMeta()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> NdiToCdiMeta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFrameData.html">FrameData</a> *</td>          <td class="paramname"><span class="paramname"><em>frame_data_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>buffer_size_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>payload_buffer_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *</td>          <td class="paramname"><span class="paramname"><em>timestamp_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *</td>          <td class="paramname"><span class="paramname"><em>avm_config_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a NDI metadata frame to CDI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame_data_ptr</td><td>Frame Data pointer which stores NDI frame. </td></tr>
    <tr><td class="paramname">buffer_size_ptr</td><td>Argument passed in to CDI send containing size of data. </td></tr>
    <tr><td class="paramname">payload_buffer_ptr</td><td>Argument passed in to CDI send containing data. </td></tr>
    <tr><td class="paramname">timestamp_ptr</td><td>Argument passed in to CDI send containing timestamp of data. </td></tr>
    <tr><td class="paramname">avm_config_ptr</td><td>Argument passed in to CDI send containing configuration of data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the CdiReturnStatus enumeration. </dd></dl>

</div>
</div>
<a id="a342640d4f0196c7bd73833518c919841" name="a342640d4f0196c7bd73833518c919841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a342640d4f0196c7bd73833518c919841">&#9670;&#160;</a></span>NdiToCdiVideo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> NdiToCdiVideo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structFrameData.html">FrameData</a> *</td>          <td class="paramname"><span class="paramname"><em>frame_data_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>buffer_size_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>payload_buffer_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *</td>          <td class="paramname"><span class="paramname"><em>timestamp_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCdiAvmBaselineConfig.html">CdiAvmBaselineConfig</a> *</td>          <td class="paramname"><span class="paramname"><em>avm_config_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a NDI video frame to CDI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame_data_ptr</td><td>Pointer to NDI frame data. </td></tr>
    <tr><td class="paramname">buffer_size_ptr</td><td>Pointer where to write the returned size of the CDI payload. </td></tr>
    <tr><td class="paramname">payload_buffer_ptr</td><td>Pointer where to write the returned pointer to the CDI payload data. </td></tr>
    <tr><td class="paramname">timestamp_ptr</td><td>Pointer where to write the returned CDI timestamp. </td></tr>
    <tr><td class="paramname">avm_config_ptr</td><td>Pointer where to write the return CDI AVM data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the CdiReturnStatus enumeration. </dd></dl>

</div>
</div>
<a id="a0812882baa5c565de04a05963cc1cd3a" name="a0812882baa5c565de04a05963cc1cd3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0812882baa5c565de04a05963cc1cd3a">&#9670;&#160;</a></span>NdiTransmitPayloadThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__os__api_8h.html#af54546942bb91b024de5fae2a253564d">CDI_THREAD</a> NdiTransmitPayloadThread </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ndi_thread_data_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread used to transmit NDI frames. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndi_thread_data_ptr</td><td>Pointer to NDI thread data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
	<div>Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.</div>
</small></address>
</body>
</html>
