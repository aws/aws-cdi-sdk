<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<title>CDI SDK: src/test/test_transmitter.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="image_left.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CDI SDK
   </div>
   <div id="projectbrief">SDK for transporting chunks of data reliably and with low latency using a polled mode network driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_120ed4da3e3217b1e7fc0b4f48568e79.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">test_transmitter.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file contains definitions and functions for the transmit-side CDI test application logic.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="test__transmitter_8h_source.html">test_transmitter.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &quot;<a class="el" href="configuration_8h_source.html">configuration.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__avm__api_8h_source.html">cdi_avm_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__core__api_8h_source.html">cdi_core_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__logger__api_8h_source.html">cdi_logger_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__os__api_8h_source.html">cdi_os_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__raw__api_8h_source.html">cdi_raw_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__utility__api_8h_source.html">cdi_utility_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdi__test_8h_source.html">cdi_test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="riff_8h_source.html">riff.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="test__common_8h_source.html">test_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="test__control_8h_source.html">test_control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="test__dynamic_8h_source.html">test_dynamic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utilities__api_8h_source.html">utilities_api.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structInitFunctionArgs.html">InitFunctionArgs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure used to pass arguments to <a class="el" href="#a753fef5dbe331c9fb337edee8efb9678">InitStaticBufferContents()</a> through <a class="el" href="cdi__pool__api_8h.html#a4edc6b8cb988d76db8a1cdf22d89c2b4">CdiPoolForEachItem()</a>.  <a href="structInitFunctionArgs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTestTxThreadLocalData.html">TestTxThreadLocalData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for any data we need separate for each Tx thread.  <a href="structTestTxThreadLocalData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a23bf7f35f4a6872217287ffe6ae3681e" id="r_a23bf7f35f4a6872217287ffe6ae3681e"><td class="memItemLeft" align="right" valign="top"><a id="a23bf7f35f4a6872217287ffe6ae3681e" name="a23bf7f35f4a6872217287ffe6ae3681e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SGL_ENTRY_SIZE_CALC_PERCENT</b>&#160;&#160;&#160;(90)</td></tr>
<tr class="memdesc:a23bf7f35f4a6872217287ffe6ae3681e"><td class="mdescLeft">&#160;</td><td class="mdescRight">When computing SGL entry size, this chooses what percent to reduce each entry by compared to the last. <br /></td></tr>
<tr class="separator:a23bf7f35f4a6872217287ffe6ae3681e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a023b15f688dc9863760e2dadbe5ea123" id="r_a023b15f688dc9863760e2dadbe5ea123"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a023b15f688dc9863760e2dadbe5ea123">TestWaitSignalOrAbort</a> (const <a class="el" href="cdi__os__api_8h.html#a22200be4dcff65ba7189ecad9939c350">CdiSignalType</a> this_signal, const <a class="el" href="cdi__os__api_8h.html#a22200be4dcff65ba7189ecad9939c350">CdiSignalType</a> abort_signal, const int timeout_ms)</td></tr>
<tr class="separator:a023b15f688dc9863760e2dadbe5ea123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81ec274f12f68cfef637fa77638ca89" id="r_ad81ec274f12f68cfef637fa77638ca89"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad81ec274f12f68cfef637fa77638ca89">FreePayloadResources</a> (<a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, <a class="el" href="structTestTxUserData.html">TestTxUserData</a> *user_data_ptr)</td></tr>
<tr class="separator:ad81ec274f12f68cfef637fa77638ca89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736c8cfecb5204f9a3f2ca29bd428ee0" id="r_a736c8cfecb5204f9a3f2ca29bd428ee0"><td class="memItemLeft" align="right" valign="top"><a id="a736c8cfecb5204f9a3f2ca29bd428ee0" name="a736c8cfecb5204f9a3f2ca29bd428ee0"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>cdi_min</b> (int a, int b)</td></tr>
<tr class="memdesc:a736c8cfecb5204f9a3f2ca29bd428ee0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for RightSizeSgl. <br /></td></tr>
<tr class="separator:a736c8cfecb5204f9a3f2ca29bd428ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acda0cf7217602b2e1f528931131ae6a5" id="r_acda0cf7217602b2e1f528931131ae6a5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structCdiSgList.html">CdiSgList</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acda0cf7217602b2e1f528931131ae6a5">RightSizeSgl</a> (<a class="el" href="structCdiSgList.html">CdiSgList</a> const *source_sgl_ptr, int new_size, <a class="el" href="structTestTxThreadLocalData.html">TestTxThreadLocalData</a> *tx_data_ptr)</td></tr>
<tr class="separator:acda0cf7217602b2e1f528931131ae6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3483f58555fcc84d1587df78d6c99104" id="r_a3483f58555fcc84d1587df78d6c99104"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3483f58555fcc84d1587df78d6c99104">ValidateSgl</a> (<a class="el" href="structCdiSgList.html">CdiSgList</a> const *sgl_ptr, <a class="el" href="cdi__core__api_8h.html#a6edbdeee1a2ae535f717e81baf2604c7">CdiBufferType</a> buffer_type, int expected_size)</td></tr>
<tr class="separator:a3483f58555fcc84d1587df78d6c99104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab32e0a4288ef5c91b9a642794f6dd6f7" id="r_ab32e0a4288ef5c91b9a642794f6dd6f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab32e0a4288ef5c91b9a642794f6dd6f7">TestTxSendPayload</a> (<a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, int stream_index, int payload_count, int ptp_rate_count, bool resend)</td></tr>
<tr class="separator:ab32e0a4288ef5c91b9a642794f6dd6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88febfa4449d17e8c5288bb0e0647bc9" id="r_a88febfa4449d17e8c5288bb0e0647bc9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a88febfa4449d17e8c5288bb0e0647bc9">TestTxTrySendStreamPayload</a> (<a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, int stream_index, int payload_count, uint64_t rate_next_start_time, int ptp_rate_count, bool *is_queued_ptr)</td></tr>
<tr class="separator:a88febfa4449d17e8c5288bb0e0647bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ca235d87ec791fac7b241179e867e7" id="r_a40ca235d87ec791fac7b241179e867e7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40ca235d87ec791fac7b241179e867e7">WaitForTxPayloadsToComplete</a> (<a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr, int payload_count, uint32_t timeout_ms)</td></tr>
<tr class="separator:a40ca235d87ec791fac7b241179e867e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4e59efb3c67f17e5f3fc3f863e057a1" id="r_ab4e59efb3c67f17e5f3fc3f863e057a1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4e59efb3c67f17e5f3fc3f863e057a1">TestTxSendAllPayloads</a> (<a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr)</td></tr>
<tr class="separator:ab4e59efb3c67f17e5f3fc3f863e057a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a753fef5dbe331c9fb337edee8efb9678" id="r_a753fef5dbe331c9fb337edee8efb9678"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a753fef5dbe331c9fb337edee8efb9678">InitStaticBufferContents</a> (const void *context_ptr, void *item_ptr)</td></tr>
<tr class="separator:a753fef5dbe331c9fb337edee8efb9678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7cd3c8be6b5453b2663f5914aad876" id="r_ade7cd3c8be6b5453b2663f5914aad876"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade7cd3c8be6b5453b2663f5914aad876">TestTxSendTestData</a> (<a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *connection_info_ptr)</td></tr>
<tr class="separator:ade7cd3c8be6b5453b2663f5914aad876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecf41948cef2ffc53786baedaae1eba" id="r_afecf41948cef2ffc53786baedaae1eba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afecf41948cef2ffc53786baedaae1eba">TestTxProcessCoreCallbackData</a> (const <a class="el" href="structCdiCoreCbData.html">CdiCoreCbData</a> *core_cb_data_ptr, int stream_index)</td></tr>
<tr class="separator:afecf41948cef2ffc53786baedaae1eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063c7caaff133508b9edc30e6e09ac1a" id="r_a063c7caaff133508b9edc30e6e09ac1a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a063c7caaff133508b9edc30e6e09ac1a">TestRawTxCallback</a> (const <a class="el" href="structCdiRawTxCbData.html">CdiRawTxCbData</a> *cb_data_ptr)</td></tr>
<tr class="separator:a063c7caaff133508b9edc30e6e09ac1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d7a3d4ce9e33ffd1fbb279d1242435d" id="r_a8d7a3d4ce9e33ffd1fbb279d1242435d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d7a3d4ce9e33ffd1fbb279d1242435d">TestAvmTxCallback</a> (const <a class="el" href="structCdiAvmTxCbData.html">CdiAvmTxCbData</a> *cb_data_ptr)</td></tr>
<tr class="separator:a8d7a3d4ce9e33ffd1fbb279d1242435d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a66438b0670019127ba8236beca3276" id="r_a9a66438b0670019127ba8236beca3276"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cdi__os__api_8h.html#af54546942bb91b024de5fae2a253564d">CDI_THREAD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a66438b0670019127ba8236beca3276">TestTxCreateThread</a> (void *arg_ptr)</td></tr>
<tr class="separator:a9a66438b0670019127ba8236beca3276"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains definitions and functions for the transmit-side CDI test application logic. </p>
<p>See <a class="el" href="cdi_test.html#cdi_test_tx">CDI Test Application Architecture Transmit Logic</a> for diagrams and detailed description of the transmit-side program flow. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad81ec274f12f68cfef637fa77638ca89" name="ad81ec274f12f68cfef637fa77638ca89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad81ec274f12f68cfef637fa77638ca89">&#9670;&#160;</a></span>FreePayloadResources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FreePayloadResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTestTxUserData.html">TestTxUserData</a> *</td>          <td class="paramname"><span class="paramname"><em>user_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free resources used for a payload.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to connection info state data. </td></tr>
    <tr><td class="paramname">user_data_ptr</td><td>Pointer to Tx user data structure passed along with a payload. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a753fef5dbe331c9fb337edee8efb9678" name="a753fef5dbe331c9fb337edee8efb9678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a753fef5dbe331c9fb337edee8efb9678">&#9670;&#160;</a></span>InitStaticBufferContents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool InitStaticBufferContents </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>context_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>item_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pool operator function used to initialize transmit buffers when their contents are static patterns. All it does is copies a linear source buffer into a destination as described by the SGL passed in through item_ptr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context_ptr</td><td>pointer to the linear source buffer address and size. </td></tr>
    <tr><td class="paramname">item_ptr</td><td>the address of the SGL which describes the destination buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true always. </dd></dl>

</div>
</div>
<a id="acda0cf7217602b2e1f528931131ae6a5" name="acda0cf7217602b2e1f528931131ae6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acda0cf7217602b2e1f528931131ae6a5">&#9670;&#160;</a></span>RightSizeSgl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structCdiSgList.html">CdiSgList</a> * RightSizeSgl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiSgList.html">CdiSgList</a> const *</td>          <td class="paramname"><span class="paramname"><em>source_sgl_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>new_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTestTxThreadLocalData.html">TestTxThreadLocalData</a> *</td>          <td class="paramname"><span class="paramname"><em>tx_data_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return a new, static SGL of smaller buffer size but pointing to the same buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source_sgl_ptr</td><td>Pointer to the source SGL. </td></tr>
    <tr><td class="paramname">new_size</td><td>Size of the new SGL to be constructed. </td></tr>
    <tr><td class="paramname">tx_data_ptr</td><td>Pointer to thread-local data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Static SGL of specified size. </dd></dl>

</div>
</div>
<a id="a8d7a3d4ce9e33ffd1fbb279d1242435d" name="a8d7a3d4ce9e33ffd1fbb279d1242435d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d7a3d4ce9e33ffd1fbb279d1242435d">&#9670;&#160;</a></span>TestAvmTxCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TestAvmTxCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiAvmTxCbData.html">CdiAvmTxCbData</a> *</td>          <td class="paramname"><span class="paramname"><em>cb_data_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle the Tx AVM callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_data_ptr</td><td>Pointer to Tx AVM callback data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a063c7caaff133508b9edc30e6e09ac1a" name="a063c7caaff133508b9edc30e6e09ac1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063c7caaff133508b9edc30e6e09ac1a">&#9670;&#160;</a></span>TestRawTxCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TestRawTxCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiRawTxCbData.html">CdiRawTxCbData</a> *</td>          <td class="paramname"><span class="paramname"><em>cb_data_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle the Tx RAW callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_data_ptr</td><td>Pointer to Tx RAW callback data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9a66438b0670019127ba8236beca3276" name="a9a66438b0670019127ba8236beca3276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a66438b0670019127ba8236beca3276">&#9670;&#160;</a></span>TestTxCreateThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cdi__os__api_8h.html#af54546942bb91b024de5fae2a253564d">CDI_THREAD</a> TestTxCreateThread </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start up the test transmit connection as requested by the user, delaying if required, and then launch TestTxSendAllPayloads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg_ptr</td><td>Void pointer to the connection_info data structure for this connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if no errors; false if errors; </dd></dl>

</div>
</div>
<a id="afecf41948cef2ffc53786baedaae1eba" name="afecf41948cef2ffc53786baedaae1eba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afecf41948cef2ffc53786baedaae1eba">&#9670;&#160;</a></span>TestTxProcessCoreCallbackData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TestTxProcessCoreCallbackData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCdiCoreCbData.html">CdiCoreCbData</a> *</td>          <td class="paramname"><span class="paramname"><em>core_cb_data_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stream_index</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process core data from Tx callback that is common to both connection protocol types (RAW and AVM). If error, log error message and mark the connection as failed. If no error, then check the transmitted payload against expected test parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_cb_data_ptr</td><td>Pointer to core callback data. </td></tr>
    <tr><td class="paramname">stream_index</td><td>Zero-based stream index. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4e59efb3c67f17e5f3fc3f863e057a1" name="ab4e59efb3c67f17e5f3fc3f863e057a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4e59efb3c67f17e5f3fc3f863e057a1">&#9670;&#160;</a></span>TestTxSendAllPayloads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool TestTxSendAllPayloads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send all payloads for this connection as requested by the user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to the <a class="el" href="structTestConnectionInfo.html" title="A structure for storing all info related to a specific connection, including test settings,...">TestConnectionInfo</a> data structure describing this connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if no errors; false if errors; </dd></dl>

</div>
</div>
<a id="ab32e0a4288ef5c91b9a642794f6dd6f7" name="ab32e0a4288ef5c91b9a642794f6dd6f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab32e0a4288ef5c91b9a642794f6dd6f7">&#9670;&#160;</a></span>TestTxSendPayload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cdi__core__api_8h.html#a0597f052733858ab62ea6388aa5ae54a">CdiReturnStatus</a> TestTxSendPayload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stream_index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_count</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ptp_rate_count</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>resend</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a payload of the requested type and send it to the SDK.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to the <a class="el" href="structTestConnectionInfo.html" title="A structure for storing all info related to a specific connection, including test settings,...">TestConnectionInfo</a> data structure describing this connection. </td></tr>
    <tr><td class="paramname">stream_index</td><td>Index of stream. </td></tr>
    <tr><td class="paramname">payload_count</td><td>Current payload number. </td></tr>
    <tr><td class="paramname">ptp_rate_count</td><td>Current PTP rate count. </td></tr>
    <tr><td class="paramname">resend</td><td>If resending the same payload use true, otherwise false.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the CdiReturnStatus enumeration. </dd></dl>

</div>
</div>
<a id="ade7cd3c8be6b5453b2663f5914aad876" name="ade7cd3c8be6b5453b2663f5914aad876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7cd3c8be6b5453b2663f5914aad876">&#9670;&#160;</a></span>TestTxSendTestData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool TestTxSendTestData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function prepares for and sends all data for this transmitter connection, and then reports transfer statistics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to the <a class="el" href="structTestConnectionInfo.html" title="A structure for storing all info related to a specific connection, including test settings,...">TestConnectionInfo</a> data structure describing this connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if no errors; false if errors; </dd></dl>

</div>
</div>
<a id="a88febfa4449d17e8c5288bb0e0647bc9" name="a88febfa4449d17e8c5288bb0e0647bc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88febfa4449d17e8c5288bb0e0647bc9">&#9670;&#160;</a></span>TestTxTrySendStreamPayload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool TestTxTrySendStreamPayload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stream_index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_count</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>rate_next_start_time</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ptp_rate_count</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>is_queued_ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Try to send a payload for a given stream, handling retries and timeouts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to the <a class="el" href="structTestConnectionInfo.html" title="A structure for storing all info related to a specific connection, including test settings,...">TestConnectionInfo</a> data structure describing this connection. </td></tr>
    <tr><td class="paramname">stream_index</td><td>The current stream number. </td></tr>
    <tr><td class="paramname">payload_count</td><td>The current payload number. </td></tr>
    <tr><td class="paramname">rate_next_start_time</td><td>The time that the current payload period is set to expire. </td></tr>
    <tr><td class="paramname">ptp_rate_count</td><td>The current PTP rate count. </td></tr>
    <tr><td class="paramname">is_queued_ptr</td><td>Address where to write returned queue status. Writes true if queued, otherwise writes false.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if no errors; false if errors; </dd></dl>

</div>
</div>
<a id="a023b15f688dc9863760e2dadbe5ea123" name="a023b15f688dc9863760e2dadbe5ea123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023b15f688dc9863760e2dadbe5ea123">&#9670;&#160;</a></span>TestWaitSignalOrAbort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool TestWaitSignalOrAbort </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="cdi__os__api_8h.html#a22200be4dcff65ba7189ecad9939c350">CdiSignalType</a></td>          <td class="paramname"><span class="paramname"><em>this_signal</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="cdi__os__api_8h.html#a22200be4dcff65ba7189ecad9939c350">CdiSignalType</a></td>          <td class="paramname"><span class="paramname"><em>abort_signal</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function is used when we are waiting for a signal, but also want to abort on a single other abort signal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">this_signal</td><td>The signal we are waiting for. </td></tr>
    <tr><td class="paramname">abort_signal</td><td>The signal that will abort this wait. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>A timeout in milliseconds that will also cause an abort if it is reached.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if this_signal is set first; false if either abort_signal is set first or we time out. </dd></dl>

</div>
</div>
<a id="a3483f58555fcc84d1587df78d6c99104" name="a3483f58555fcc84d1587df78d6c99104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3483f58555fcc84d1587df78d6c99104">&#9670;&#160;</a></span>ValidateSgl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ValidateSgl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCdiSgList.html">CdiSgList</a> const *</td>          <td class="paramname"><span class="paramname"><em>sgl_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cdi__core__api_8h.html#a6edbdeee1a2ae535f717e81baf2604c7">CdiBufferType</a></td>          <td class="paramname"><span class="paramname"><em>buffer_type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>expected_size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check all requirements for the payload SGL generated by InitPoolSgl in <a class="el" href="run__test__generic_8c.html" title="This file contains the RunTestGeneric() function which is the main test execution function that uses ...">run_test_generic.c</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sgl_ptr</td><td>Pointer to SGL to validate. </td></tr>
    <tr><td class="paramname">buffer_type</td><td>The configured buffer type. </td></tr>
    <tr><td class="paramname">expected_size</td><td>Expected buffer size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if and only if the SGL is as expected. </dd></dl>

</div>
</div>
<a id="a40ca235d87ec791fac7b241179e867e7" name="a40ca235d87ec791fac7b241179e867e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ca235d87ec791fac7b241179e867e7">&#9670;&#160;</a></span>WaitForTxPayloadsToComplete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void WaitForTxPayloadsToComplete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTestConnectionInfo.html">TestConnectionInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>connection_info_ptr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>payload_count</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Wait for Tx payloads that have been queued to transmit to complete (waits for pending Tx payload callbacks).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_info_ptr</td><td>Pointer to the <a class="el" href="structTestConnectionInfo.html" title="A structure for storing all info related to a specific connection, including test settings,...">TestConnectionInfo</a> data structure describing this connection. </td></tr>
    <tr><td class="paramname">payload_count</td><td>The current payload number. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Maximum time to wait in milliseconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
	<div>Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.</div>
</small></address>
</body>
</html>
